/*! Based on work by Simon Willison: http://gist.github.com/292562 */

/*! Weakdata - https://gist.github.com/b84827b7af6da78acb67ca75839cf1c6 by @allex | MIT License */

/*
Copyright Manos Malihutsakis (email: manos@malihu.gr)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */

define("lib/core/1.0.0/utils/util",["require","exports","module"],function(e,t,n){"use strict";function i(e){return"object"==typeof e&&null!==e}function o(){}function r(e,t){for(var n=e.length,i=-1;++i<n;)t(e[i],i)}function a(e,t){for(var n in e)h.call(e,n)&&t(e[n],n,e)}function s(e,t){if(e&&e.forEach)return e.forEach(t);p(e)?r(e,t):a(e,t)}function l(e,t){for(var n=-1,i=e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}function c(e,t){var n=[];s(e,function(e,i,o){n.push(t(e,i,o))});return n}function u(e,t){if(!t||!i(t))return e;for(var n=v(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}function d(e){"?"===e.charAt(0)&&(e=e.substr(1));for(var t,n={},i=e.split("&"),o=-1,r=i.length;++o<r;){t=i[o].split("=");n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return n}var f=new Function("return this")(),h=Object.prototype.hasOwnProperty,p=Array.isArray||function(e){return e&&e instanceof Array},m=function(){var e=(+new Date).toString(36),t=-1;return function(n){return(n||"")+e+ ++t}}(),v=Object.keys||function(e){var t=[];a(e,function(e,n){t.push(n)});return t},g="function"==typeof Object.create?function(e,t){e.__super__=t.prototype;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(){function e(e){this.constructor=e}return function(t,n){t.__super__=n.prototype;e.prototype=n.prototype;t.prototype=new e(t)}}(),y=f.console||(f.console={});r(["log","error","trace","warn","info"],function(e){y[e]||(y[e]=o)});t.extend=function(e,t){for(var n=[].slice.call(arguments,1),i=n.length,o=-1;++o<i;)u(e,n[o]);return e};t.inherits=function(e,t,n){g(e,t);n&&u(e.prototype,n)};t.impls=function(e,n){n="function"==typeof n?n.prototype:n;t.mix(e.prototype,n);return e};t.parseQuery=d;t.parseParams=d;t.each=s;t.map=function(e,t){var n=p(e)?l:c;return n(e,t)};t.filter=function(e,t){var n,i,o=p(e)?(n=r,i=function(e,t){o.push(t)},[]):(n=a,i=function(e,t){o[e]=t},{});n(e,function(e,n){t(e,n)&&i(n,e)});return o};t.mix=function x(e,t,n,i,o){for(var r in t)t.hasOwnProperty(r)&&(t[r]&&e[r]&&n&&"object"==typeof t[r]?x(e[r],t[r],n,i,o):(void 0===e[r]||i)&&(o&&!o(e[r],t[r])||(e[r]=t[r])));return e};t.guid=m;t.setImmediate=function(){var e=f.document,t=f.postMessage,n=f.setImmediate;return n?n:"onreadystatechange"in e.createElement("script")?function(t){function n(){i.onreadystatechange=null;i.parentNode.removeChild(i);t()}var i=e.createElement("script");i.onreadystatechange=n;e.documentElement.appendChild(i)}:t?function(e){function n(t){if(t.data===i){f.removeEventListener("message",n,!0);e()}}var i=m();f.addEventListener("message",n,!0);t(i,"*")}:function(e){f.setTimeout(e,0)}}();t.noop=o;t.throttle=function(e,t){t=t?t:150;if(t===-1)return function(){e.apply(this,arguments)};var n;return function(){var i=+new Date;if(!n||i-n>t){n=i;e.apply(this,arguments)}}};t.debounce=function(e,t,n,i){var o;return function(){var r=i||this,a=arguments,s=function(){o=null;n||e.apply(r,a)},l=n&&!o;clearTimeout(o);o=setTimeout(s,t);l&&e.apply(r,a)}};t.deprecate=function(e,t){function n(){i||(i=!0);return e.apply(this,arguments)}if(f.noDeprecation===!0)return e;var i=!1;return n}});define("lib/ui/box/1.0.1/drag",["require","jquery"],function(e){"use strict";var t=e("jquery"),n=t(window),i=t(document),o="createTouch"in document,r=document.documentElement,a=!("minWidth"in r.style),s=!a&&"onlosecapture"in r,l="setCapture"in r,c=t.noop,u={start:o?"touchstart":"mousedown",over:o?"touchmove":"mousemove",end:o?"touchend":"mouseup"},d=o?function(e){e.touches||(e=e.originalEvent.touches.item(0));return e}:function(e){return e},f=function(){this.start=t.proxy(this.start,this);this.over=t.proxy(this.over,this);this.end=t.proxy(this.end,this);this.onstart=this.onover=this.onend=c};f.types=u;f.prototype={start:function(e){e=this.startFix(e);i.on(u.over,this.over).on(u.end,this.end);this.onstart(e);return!1},over:function(e){e=this.overFix(e);this.onover(e);return!1},end:function(e){e=this.endFix(e);i.off(u.over,this.over).off(u.end,this.end);this.onend(e);return!1},startFix:function(e){e=d(e);this.target=t(e.target);this.selectstart=function(){return!1};i.on("selectstart",this.selectstart).on("dblclick",this.end);s?this.target.on("losecapture",this.end):n.on("blur",this.end);l&&this.target[0].setCapture();return e},overFix:function(e){e=d(e);return e},endFix:function(e){e=d(e);i.off("selectstart",this.selectstart).off("dblclick",this.end);s?this.target.off("losecapture",this.end):n.off("blur",this.end);l&&this.target[0].releaseCapture();return e}};f.create=function(e,o,r){r=t.extend({hook:null,onstart:c,onover:c,onend:c},r);var a,s,l,u,d=t(e),h=r.hook?t(r.hook):d,p=new f,m=f.types.start,v=e.className.replace(/^\s|\s.*/g,"")+"-drag-start",g={off:function(){h.off(m,p.start)}};p.onstart=function(t){var o="fixed"===d.css("position"),c=i.scrollLeft(),f=i.scrollTop(),h=d.width(),p=d.height();a=0;s=0;l=o?n.width()-h+a:i.width()-h;u=o?n.height()-p+s:i.height()-p;var m=d.offset(),g=this.startLeft=o?m.left-c:m.left,y=this.startTop=o?m.top-f:m.top;this.clientX=t.clientX;this.clientY=t.clientY;d.addClass(v);r.onstart.call(e,t,g,y)};p.onover=function(t){var n=t.clientX-this.clientX+this.startLeft,i=t.clientY-this.clientY+this.startTop,o=d[0].style;n=Math.max(a,Math.min(l,n));i=Math.max(s,Math.min(u,i));o.left=n+"px";o.top=i+"px";r.onover.call(e,t,n,i)};p.onend=function(t){var n=d.position(),i=n.left,o=n.top;d.removeClass(v);r.onend.call(e,t,i,o)};p.off=function(){h.off(m,p.start)};o?p.start(o):h.on(m,p.start);return g};return f});!function(e,t){if("function"==typeof define&&define.amd)define("lib/core/1.0.0/event/emitter",t);else if("undefined"!=typeof module)t(require,module.exports,module);else{var n={exports:{}};t(null,n.exports,n);e.EventEmitter=n.exports}}(this,function(e,t,n){"use strict";function i(){}function o(e,t,n,i){var o=!0;if(t)for(var r,a,s,l=-1,c={type:e,timeStamp:u()};r=t[++l];){a=r[m];s=r[v]||i;try{o=r[g]===p?a.call(s,c,n)!==!1&&o:a.apply(s,n)!==!1&&o}catch(d){setTimeout(function(){console.error(d)},1)}}return o}function r(e){var t,n=f(this);if(n){t=n[e];return t.length}return 0}function a(e){return"[object Function]"===Object.prototype.toString.call(e)}function s(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function l(e,t){e.forEach?e.forEach(t):function(e){for(var n=-1,i=e.length;++n<i;)t(e[n],n)}(e)}var c=/\s+/,u=Date.now||function(){return+new Date},d=function(){return u()*Math.random()&65535}(),f=function(){var e,t,n;return"function"==typeof WeakMap&&(WeakMap.prototype||0).set?(e=new WeakMap,function(t,n){var i=e.get(t);return null===n?void 0!==i&&e["delete"](t):!i&&n?(e.set(t,i={}),i):i}):(t=u(),n="__$widΦ"+t.toString(36),e={},function(i,o){if(!i||"object"!=typeof i)throw TypeError("Invalid value used as weak map key");var r;return null===o?i[n]&&(delete e[i[n]],delete i[n]):(r=i[n]||o&&(r=++t,e[r]={},i[n]=r),r&&e[r])})}(),h=1,p=2,m=0,v=1,g=2,y=function(e,t,n){var i=[];i[m]=e;i[v]=t;i[g]=n;return i},x=i.prototype;x.addListener=function(e,t,n,i){var o,r,a,s=h;if(t&&"object"==typeof t){n=t;t=n.handleEvent;s=p}if(!t)return this;o=f(this,1);e=e.split(c);for(;r=e.shift();){a=!i&&o[r]||(o[r]=[]);a.push(y(t,n,s))}return this};x.on=x.addListener;x.once=function(e,t,n){var i=!1,o=function(){this.removeListener(e,o);if(!i){i=!0;t.apply(n||this,arguments)}};o.guid=t.guid||(t.guid=d++);return this.on(e,o)};x.removeListener=function(e,t,n){var i,o,r,a,l,u;if(t&&"object"==typeof t){n=t;t=n.handleEvent}if(!(i=f(this)))return this;if(!(e||t||n)){s(i,function(e,t){delete i[t]});f(this,null);return this}e=e?e.split(c):_(i);for(;o=e.shift();){r=i[o];if(r)if(t||n)for(a=r.length;--a>=0;){l=r[a];u=l[m];t&&u!==t&&(void 0===u.guid||u.guid!==t.guid)||n&&l[v]!==n||r.splice(a,1)}else delete i[o]}return this};x.un=x.removeListener;x.removeAllListeners=function(e){return this.removeListener(e)};x.emit=function(e){var t,n,i,r,a,s,l=[],u=!0;if(!(t=f(this)))return this;e=e.split(c);for(a=1,s=arguments.length;a<s;a++)l[a-1]=arguments[a];for(;n=e.shift();){(i=t.all)&&(i=i.slice());(r=t[n])&&(r=r.slice());"all"!==n&&(u=o(n,r,l,this)&&u);u=o(n,i,[n].concat(l),this)&&u}return u};i.applyTo=function(e){function t(t,i){e[t]=function(){var o=n[t].apply(i||e,Array.prototype.slice.call(arguments));return o===i?this:o}}var n=x,i=_(n);a(e)?l(i,function(t){e.prototype[t]=n[t]}):l(i,function(e){t(e)})};i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):r.call(e,t)};x.listenerCount=r;var _=Object.keys||function(e){var t=[];s(e,function(e,n){t.push(n)});return t};n.exports=i});define("lib/core/1.0.0/dom/delegator",["require","exports","module","jquery","../event/emitter"],function(e,t,n){"use strict";function i(e,t){var n,i,r,a=t.currentTarget,s=o(a),l=(t.handleObj||0).origType||t.type;if(!t.isPropagationStopped()){if(!s.attr("disabled")&&(n=s.attr("action-type"))){i=s.attr("action-data");t.action=n;t.data=i;r=e.e.emit(l+c+n,t,a);t.actionValue=r;if(r===!1){t.preventDefault();t.stopPropagation()}}e.opts.onDelegate(t);return r}}var o=e("jquery"),r=e("../event/emitter"),a=/\S+/g,s=-1,l=(+new Date).toString(36),c="/",u=function(){return l+ ++s},d=function(e,t){var n=e.guid||(e.guid=u()),i=function(n,i){return e.call(t||i,n)};i.guid=n;return i},f=function(){},h=function(e,t){return"function"==typeof e?e:t},p=function(e,t){t=t||{};"string"==typeof e&&(e=o(e)[0]);var n={},s={},l=new r,u=t.context,p={o:n,opts:t,e:l},m=function(e){return i(p,e)};t.onDelegate=h(t.onDelegate,f);n.on=function(t,n,i){if("function"==typeof n){i=n;n=t;t="click"}if("function"!=typeof i)throw Error("The delegate handler should be a valid function");n=(n||"").match(a)||[];for(var r=n.length;r--;){if(!s[t]){s[t]=1;o(e).on(t,"[action-type]",m)}l.on(t+c+n[r],d(i,u))}return this};n.un=function(t,n,i){if("function"==typeof n||!n){i=n;n=t;t="click"}n=(n||"").match(a)||[];var r,s=n.length;for(o(e);s--;){r=t+c+n[s];l.un(r,i)}return this};n.fire=function(t,n){if(!n){n=t;t="click"}var i=o('[action-type="'+n+'"]',e)[0]||document,r=new o.Event(t);r.currentTarget=r.target=i;l.emit(t+c+n,r,i)};n.destroy=function(){var i=o(e);o.each(s,function(e,t){delete s[e];i.off(e,"[action-type]",m)});l.un();for(var r in n)delete n[r];l=void 0;t=void 0;s=i=e=void 0;m=null};return n};n.exports=p});define("lib/core/1.0.0/utils/css",["require","exports","module","jquery","./util"],function(e,t,n){"use strict";function i(e){return c("<"+e+"/>")[0]}function o(e,t,n){e.insertRule?e.insertRule(t+" {"+n+"}",0):e.addRule(t,n,1)}function r(){var e,t,n,i,o,a="";e=document.body||document.documentElement;n=e.style;i="Transition";o=["Moz","Webkit","Khtml","O","ms"];t=0;for(;t<o.length;){if(void 0!==n[o[t]+i]){a=o[t];break}t++}r=function(){return a};return a}function a(){var e=r();return e?"-v-".replace("v",e.toLowerCase()):""}function s(e){return"number"==typeof e?e:{fast:200,normal:500,slow:1e3}[e]||500}function l(e,t,n,i,o){var r,a,l=c(e),u=arguments,o="boolean"==typeof u[u.length-1]&&u[u.length-1],p=!1,m=function(){v()},v=function(e){p||g(!0)},g=function(e){if(!p){p=!0;v=d;l.off(y,m);if(r){clearTimeout(r);r=null}l.removeClass(a);e&&i();l=null}};if("function"==typeof n){i=n;n=void 0}i=i||d;if(h){n=n||"normal";t=t||"shake";a=["ui-animated","ui-speed-"+n,"ui-ani-"+t].join(" ");l.on(y,m);r=setTimeout(m,s(n)+100);o===!0?f(function(){l.addClass(a)}):l.addClass(a)}else f(function(){i&&i()});return{stop:function(){g.apply(null,arguments);return this}}}var c=e("jquery"),u=e("./util"),d=(u.each,u.noop),f=u.setImmediate,h=a(),p=/\-v\-/g,m=document.getElementsByTagName("head")[0].appendChild(i("style")),v=m.sheet||m.styleSheet,g={".ui-animated":"-v-animation-fill-mode: both;",".ui-animated.ui-speed-normal":"-v-animation-duration: 0.5s;",".ui-animated.ui-speed-fast":"-v-animation-duration: 0.2s;",".ui-animated.ui-speed-slow":"-v-animation-duration: 1s;"},y={"-webkit-":"webkitAnimationEnd","-moz-":"animationend","-o-":"OAnimationEnd","-ms-":"msAnimationEnd","":"animationend"}[h];u.each(g,function(e,t){e&&o(v,t,e.replace(p,h))});t.effect=l;t.getVendorPrefix=r});define("lib/ui/box/1.0.1/popup",["require","exports","module","jquery","../../../core/1.0.0/utils/util","../../../core/1.0.0/utils/css","../../../core/1.0.0/event/emitter"],function(e,t,n){"use strict";function i(e){var t=this,n={autofocus:!0,fixed:!1,align:"bl",className:"",clickBlankToHide:!1,appendTo:"body",autoRelease:!1,html:"",modal:!1,showWithAni:"bounceIn:fast",hideWithAni:"bounceOut:fast"};t._=e=_(n,e);e.fixed=!!e.fixed&&k();var r=o('<div class="'+m+'" id="'+(e.id||x())+'" />').css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(e.html),a=o("<div />");t._popup=r;t._mask=t._shadow=a;t.node=r[0];t.mask=a[0];t.on("render",function(e){var n,o=e.className,a=t._mask,s=e.zIndex;r.html()||r.html(e.html);o&&r.addClass(o);r.css("position",e.fixed?"fixed":"absolute");s&&r.css("zIndex",s);if(e.modal){r.addClass(m+"-modal");n={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:s||i.zIndex,backgroundColor:"#000",opacity:.3};k()||_(n,{position:"absolute",width:u.width()+"px",height:d.height()+"px"});a.attr("tabIndex",0).on("focus",b(t.focus,t));t._shadow=a.clone(!0);a.css(n).addClass(m+"-mask")}});t.on("beforeShow",function(e){var n=t.anchor,i=t._dirClass;if(!n&&i){r.removeClass(i);delete t._dirClass}});t.on("show",function(e){t.resize();if(e.modal){t._mask.insertBefore(r).css("display","block");t._shadow.insertAfter(r)}e.autofocus&&t.focus()});t.on("hide",function(e){t._mask.remove();t._shadow.remove();t.blur()});t.once("destroy",function(){r.off();r=null;t._mask.off();t._shadow.off()});if(!p){var s=b(t.resize,t);t.on("render",function(){u.on("resize",s)});t.on("destroy",function(){u.off("resize",s)})}t.destroyed=!1;t.initialized=!0}var o=e("jquery"),r=e("../../../core/1.0.0/utils/util"),a=e("../../../core/1.0.0/utils/css"),s=e("../../../core/1.0.0/event/emitter"),l=window,c=l.document,u=o(l),d=o(c),f=c.documentElement,h=/\S+/g,p=!("minWidth"in f.style),m="ui-layer",v=l.Math,g=v.max,y=v.ceil,x=r.guid,_=r.extend,w=r.each,b=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},C=r.setImmediate,S=function(e){return l.parseInt(e,10)||0},T=function(e){return e&&1===e.nodeType},k=function(){return k._||(k._=function(){var e=c.createElement("div"),t=e.cloneNode(!1),n=!1,i=c.body||function(){n=!0;return f.appendChild(c.createElement("body"))}();e.style.cssText="position:fixed;top:42px";i.appendChild(e);i.appendChild(t);var o=e.offsetTop!==t.offsetTop;i.removeChild(e);i.removeChild(t);n&&f.removeChild(i);e=t=null;return o}())},A=function(){return{x:d.scrollLeft(),y:d.scrollTop()}},B=function(e){return{w:e.width(),h:e.height()}},E=function(){return B(u)},I=function(e){var t=T(e),n=t?o(e).offset():{left:e.pageX,top:e.pageY};e=t?e:e.target;var i=e.ownerDocument;if(i===l.document)return n;var r=i.defaultView||i.parentWindow,a=r.frameElement,s=A(),c=o(a).offset();return{left:n.left+c.left-s.x,top:n.top+c.top-s.y}},z=function(e,t){if(e.length){var n=S(e.css(t))||e[0]["offset"+t.charAt(0).toUpperCase()+t.slice(1)],i={width:["left","right"],height:["top","bottom"]};w(i[t],function(t,i){n+=S(e.css("margin-"+t),10)||0});return n}return 0},D=function(e){return z(e,"width")},O=function(e){return z(e,"height")},j=function(){try{var e=c.activeElement,t=e.contentDocument;return t&&t.activeElement||e}catch(n){}},M=function(e){e=e||"";var t={auto:!0},n=e.slice(-1);if("!"===n){t.auto=!1;e=e.slice(0,-1)}for(var i,e=e.length<=2?e.split(""):e.replace(/^\s+|\s+$/g,"").split(" ").slice(0,2),o={},r={t:"t",b:"t",l:"l",r:"l"},a=-1,s=e.length;++a<s;){i=e[a].charAt(0);if(!i||o[r[i]])e.splice(a,1);else{e[a]=i;o[r[i]]=1}}2===e.length&&e[0]===e[1]&&e.pop();t.align=e;return t};r.inherits(i,s,{open:!1,destroyed:!0,node:null,mask:null,emit:function(e){for(var t=(e||"").match(h)||[],n=t.length;n--;){var o=this["on"+t[n]],r=Array.prototype.slice.call(arguments,1);"function"==typeof o&&o.apply(this,r)}i.__super__.emit.apply(this,arguments)},$:function(e,t){var n=this._nodes||(this._nodes={}),i=n[e];if(!i||t&&0===i.length){i=this._popup.find('[node-type="'+e+'"]');t&&i.length>0&&(n[e]=i)}return!t||i.length?i:null},show:function(e,t){var n,i=this,o=i._,r=e,s=null,l=i._anim;l&&l.stop(!0);if(i.destroyed||o.showing||i.open)return i;t=_({},i._,t);if(void 0!==r){n=typeof r;"boolean"===n?t.modal=r:r&&"object"===n&&(T(r)||T(r.target)?s=r:_(t,r))}var c=i._popup,u=t.showWithAni,d=function(){delete o.showing;i.emit("shown")};if(!i._ready){i.emit("render",t);i._ready=!0}i.open=!0;i.anchor=s;i._activeElement=j();i.emit("beforeShow",t);c.appendTo(t.appendTo).css("display","block");i.emit("show",t);o.showing=!0;if(u&&"none"!==u){var f=u.split(":");i._anim=a.effect(i.node,f[0],f[1],d)}else d();return i},hide:function(e){var t,n=this,i=n._,o=n.node,r=i.hideWithAni,s=n._anim;s&&s.stop(!0);if(n.destroyed||i.hidding||!n.open)return n;n.emit("beforeHide");i.hidding=!0;t=function(){if(i.hidding===!0){o.parentNode.removeChild(o);n._popup.hide();delete i.hidding;n.open=!1;n.emit("hidden");(e||i.autoRelease)&&n.destroy()}};if(r&&"none"!==r){var l=r.split(":");n._anim=a.effect(o,l[0],l[1],t);n.emit("hide")}else{n.emit("hide");C(t)}return n},destroy:function(){var e=this;if(e.destroyed)return e;e.emit("beforeremove");i.current===e&&(i.current=null);e._popup.off().remove();e._mask.off().remove();e._shadow.off().remove();e.emit("destroy");e.removeAllListeners();w(e,function(t,n){delete e[n]});e._={};e.destroyed=!0;return e},resize:function(){var e=this._;if(this.open&&this._ready&&!e.showing&&!this._freezing){var t=this.anchor;t?this.alignTo(t):this.center();this.emit("resize")}return this},_freeze:function(e){this._freezing=!!e;return this},focus:function(e){var t=this._,n=this.node,r=this._popup,a=i.current,s=t.zIndex;a&&a!==this&&a.blur(!1);if(!o.contains(n,j())){var l=r.find("[autofocus]")[0];!t.focusing&&l?t.focusing=!0:l=n;this._focus(l)}if(void 0===s){s=t.zIndex=i.zIndex++;r.css("zIndex",s);r.addClass(m+"-focus")}i.current=this;this.emit("focus");return this},blur:function(){var e=this._,t=arguments[0],n=this._activeElement;if(!n)return this;t!==!1&&this._focus(n);delete e.focusing;delete this._activeElement;this._popup.removeClass(m+"-focus");this.emit("blur");return this},_focus:function(e){if(e&&this._.autofocus&&!/^iframe$/i.test(e.nodeName))try{e.focus()}catch(t){}},center:function(){var e=this._popup,t=this._.fixed,n=A(),i=E(),o=B(e),r=t?0:n.x,a=t?0:n.y,s=(i.w-o.w)/2+r,l=.382*(i.h-o.h)+a;e.css({left:g(S(s),r),top:g(S(l),a)});return this},alignTo:function(e,t){var n=this,i=n._,r=n._popup,a=e.parentNode&&o(e);if(!a)return n;var s=a.offset();if(s.left*s.top<0)return n.center();t=t||i.align;var l=M(t),c=l.align,u=!l.auto;c&&c.length||(c=["b"]);var d=n._dirClass;d&&r.removeClass(d);var f=i.fixed,h=E(),p=A(),v=D(r),g=O(r),x=I(e),_=D(a),b=O(a),C=x.left,T=x.top,k=f?C-p.x:C,B=f?T-p.y:T,z=f?0:p.x,j=f?0:p.y,L=z+h.w-v,q=j+h.h-g,R={t:"b",b:"t",l:"r",r:"l"},P={t:"top",b:"top",l:"left",r:"left"},W={},U=[{t:B-g,b:B+b,l:k-v,r:k+_},{t:B,b:B-g+b,l:k,r:k-v+_}],H={l:k+y((_-v)/2),t:B+y((b-g)/2)},N={left:[z,L],top:[j,q]};u||w(c,function(e,t){U[t][e]>N[P[e]][1]&&(e=c[t]=R[e]);U[t][e]<N[P[e]][0]&&(c[t]=R[e])});var $=c[0];if(!c[1]){c[1]="left"===P[$]?"t":"l";U[1][c[1]]=H[c[1]]}U[0][$]=U[0][$]+10*("tl".indexOf($)!==-1?-1:1);W[P[c[0]]]=S(U[0][c[0]]);W[P[c[1]]]=S(U[1][c[1]]);var F=m+"-"+$;r.css(W).addClass(F);n._dirClass=F;var X=n.$("arrow",1),Y=n.$("inner",1);if(!X){if(!Y)return n;X=o('<div node-type="arrow" class="ui-arrow"><i></i><b></b></div>').appendTo(Y)}var G,V,Q="top"!==P[$],J=["v","h"][1^Q],Z=D(X),K=O(X),ee={},te=Q?"left":"top";switch(J){case"h":G=y(C+(_-Z)/2);ee.left=G;break;case"v":V=y(T+(b-K)/2);ee.top=V}X.offset(ee).css(te,"");return n}});i.zIndex=1024;i.current=null;n.exports=i});define("lib/ui/box/1.0.1/dialog",["require","exports","module","jquery","../../../core/1.0.0/utils/util","../../../core/1.0.0/dom/delegator","./popup"],function(e,t,n){"use strict";var i=e("jquery"),o=e("../../../core/1.0.0/utils/util"),r=e("../../../core/1.0.0/dom/delegator"),a=e("./popup"),s=o.extend,l=o.guid,c=o.each,u=window.document,d={zIndex:1024,title:"",close:!0,clickBlankToHide:!1,content:'<span class="ui-box-loading">Loading..</span>',className:"",width:"",height:"",button:null,buttonClass:"ui-box-btn",buttonClassLight:"autofocus",html:'<div node-type="inner" class="ui-box"><a node-type="close" action-type="close" class="ui-box-iconf ui-box-close">x</a><div node-type="header" class="ui-box-hd"><div node-type="title" class="ui-box-title"></div></div><div node-type="body" class="ui-box-bd"><div node-type="content" class="ui-box-content"></div></div><div node-type="footer" class="ui-box-ft"><div node-type="button" class="ui-box-func"></div></div></div>'},f={},h=function(e){var t=e||(e={}),n=e.id||e.id||l(),o=h.get(n)||this;"string"!=typeof e&&1!==e.nodeType||(e={content:e});e=s({},d,e);e.original=t;var r,a=e.button||(e.button=[]);if(!i.isArray(r=a)){r=[];a&&"object"==typeof a&&c(a,function(e,t){e.id=t;r.push(e)});a=e.button=r}if(a.length>0){var u=!1;c(a,function(t,n){var i=t.id||l();t.autofocus&&(u=!0);e[i]&&s(t,e[i]);t.index=n});u||(a[a.length-1].autofocus=!0)}o.emit("init",e);o.initialized?o.options(e).focus():o.init(e);f[n]=o;return o};o.inherits(h,a,{init:function(e){var t=this;a.call(t,e);var n=function(e){var n=e.actionValue===!1||e.isDefaultPrevented();n||t.hide()};t._delegator=new r(t.node,{context:t,onDelegate:n});t.delegate("close",function(e){t.hide()}).once("render",function(){t.initComponents()}).on("destroy",function(){delete f[e.id];t._delegator.destroy()})},options:function(e){var t=this,e=s(t._,e);t._freeze(!0);c(["title","content","width","height","action","button"],function(n,i){i=e[n];null!=i&&"function"==typeof t[n]&&t[n](i)});t._freeze(!1).resize();e.zIndex&&(a.zIndex=e.zIndex);return t},initComponents:function(){var e=this,t=e._;e.$("header").hide();e.$("footer").hide();e.options();t.close||e.$("close").css("display","none");t.clickBlankToHide&&i(e.mask).on("onmousedown"in u?"mousedown":"click",function(){e.hide();return!1});var n=function(t){var n=t.target,i=n.nodeName,o=/^input|textarea$/i,r=a.current===e,s=t.keyCode;!r||o.test(i)&&"button"!==n.type||27===s&&e.hide()};i(u).on("keydown",n);e.on("destroy",function(){i(u).off("keydown",n)})},delegate:function(e,t,n){var i=this._delegator;i.on.apply(i,arguments);return this},undelegate:function(e,t,n){var i=this._delegator;i.un.apply(i,arguments);return this},content:function(e){var t=this.$("content");if(e&&e.nodeType){i.contains(u,e)&&this.on("beforeremove",function(){i("body").append(e.hide())});e=i(e);t.empty().append(e.show())}else t.html(e);return this.resize()},title:function(e){this.$("title").html(e);this.$("header")[e?"show":"hide"]();return this},width:function(e){if(""!==e){this.$("content").css("width",e);this.resize()}return this},height:function(e){if(""!==e){this.$("content").css("height",e);this.resize()}return this},button:function(e){e=e||[];var t=this,n=t._,i="",o=0,r=n.buttonClass;if("string"==typeof e){i=e;o++}else c(e,function(e,a){var s=e.id,l=e.fn||e.callback,c=e.display!==!1,u=e.className||r,d=[u];e.autofocus&&d.push(n.buttonClassLight);"function"==typeof l&&t.delegate(s,l);c&&o++;i+='<button type="button" action-type="'+s+'"'+(c?"":' style="display:none"')+(' class="'+d.join(" ")+'"')+(e.disabled?" disabled":"")+">"+(e.text||e.value)+"</button>"});t.$("button").html(i);t.$("footer")[o?"show":"hide"]();t.resize();return t},action:function(e){var t=this;c(e,function(e,n){t.delegate(n,e)});return t}});h.getCurrent=function(){return a.current};h.get=function(e){return void 0===e?f:f[e]};h.config=function(e){e&&s(d,e)};n.exports=h});define("lib/ui/box/1.0.1/messagebox",["require","exports","module","jquery","../../../core/1.0.0/utils/util","./drag","./dialog"],function(e,t,n){"use strict";var i=e("jquery"),o=e("../../../core/1.0.0/utils/util"),r=e("./drag"),a=e("./dialog"),s=o.each,l=o.extend,c=window.clearTimeout,u="//s1.zhongzhihui.com/lib/assets/images/loading/loading32x32.gif";!function(){var e=i('<i class="ui-box-iconf" style="position:absolute;left:-999em;top:-999em;">x<img src="'+u+'"</i>').appendTo("body");setTimeout(function(){e.remove();e=null},50)}();var d={info:"&#x69;",warn:"&#x21;",confirm:"&#x3f;",ok:"&#x2714;",error:"&#x2718;",loading:'<img src="'+u+'" />'},f=function(e){var t=d[e];return t?'<i node-type="icon" class="x-icon ui-box-iconf">'+t+"</i>":""},h=o.guid("__x")+"$",p=function(e){return h+e},m=function(e,t){var n,i=t.xtype,o=i&&f(i)||t.iconHTML;if(o){n=e?'<div node-type="text" class="x-text">'+e+"</div>":"";e=['<div class="ui-box-x-wrap">',o,n,"</div>"].join("")}return e},v=function(e){var t=e.contentWindow;if(t)try{return t.document}catch(n){return 0}},g=function(e){var t;e.once("init",function(n){var i={};s(["title","width","height","button"],function(e){i[e]=n[e];delete n[e]});e.once("load",function(){var n=e._;s(i,function(i,o){if(i)if("title"===o){if("auto"===i)try{i=t.contentWindow.document.title||""}catch(r){i=""}i&&e.title(i)}else"function"==typeof e[o]?e[o](i):n[o]=i})})}).once("render",function(){var n=e._;setTimeout(function(){t=y(e,n.url);e.iframeNode=t},30);var o=n.original;if(!(o instanceof Object))for(var r=function(){e.hide().destroy()},a=0;a<frames.length;a++)try{if(o instanceof frames[a].Object){i(frames[a]).one("unload",r);break}}catch(s){}}).once("beforeremove",function(){i(t).attr("src","about:blank").remove()},!1)},y=function(e,t){var n=e._,o=e.$("content"),r=o.find("iframe"),a=r&&r[0],s=function(t){e._freeze(!0);if(t){n.width||e.width(t.width);n.height||e.height(t.height)}e.emit("load");e._freeze(!1).resize();s=null;r.removeAttr("style");r=a=null},l=function(t){n.showing?e.once("shown",t):t()};if(!r.length){var c=/(msie) ([\w.]+)/.test(navigator.userAgent.toLowerCase()),u='<iframe id="{id}-iframe" name="{id}-iframe" class="iframe" frameborder="0" hspace="0"'+(c?' allowtransparency="true"':"")+' scrolling="'+n.scrolling+'" style="position:absolute;left:-9999em;top:-9999em;" src="'+t+'"></iframe>';r=i(u.replace(/{id}/g,n.id)).appendTo(o);a=r[0];n.autoSize?r.one("load",function(){var e,t,n,o=v(a),c=o&&i(o);if(c){e=c.width();r.width(e);t=c.height();n={width:e,height:t}}l(function(){s(n)})}):l(function(){s()})}return a},x=function(e){var t=this;e=l({},e);var n=e.button||(e.button=[]);s(["cancel","ok"],function(t,i){var o=e[t];if(o&&"object"==typeof o){o.id=t;n.push(o);delete e[t]}});var o=e.xtype;if(o){e.id=e.id||p(o);e.content=m(e.content,e);"none"!==o&&(e.className=(e.className||"")+" ui-box-x-"+o)}else{var c=e.url;if(c){var u=e.close!==!1;e=l({modal:!0,close:!1,autoRelease:!0,autoSize:!0,scrolling:"auto"},e);var d=i(m("Loading...",{xtype:"loading"})).addClass("ui-box-x-loading");e.content=d;e.className=(e.className||"")+" ui-box-iframe";t.once("load",function(){d.remove();d=null;u&&t.$("close").show()});t.on("hidden",function(){t.destroy()});g(t)}}t=a.call(t,e)||t;t._ready||t.once("render",function(){var n=t.$("title");if(n.length&&e.drag!==!1){n.css("cursor","move");r.create(t.node,null,{hook:n,onstart:function(){t.anchor||t.focus()}})}});return t},_="__showDelay",w="__hideTimer";o.inherits(x,a,{show:function(e,t){var n=this,i=n._,r=[].slice.call(arguments),t=l({},i,t),a=t.duration||0,s=t.delay||0,u=function(){o.each([_,w],function(e,t){t=i[e];delete i[e];t&&c(t)})},d=function(){if(a>0){i[w]=setTimeout(function(){u();n.hide()},a);n.once("hide",u)}x.__super__.show.apply(n,r)};u();s>0?i[_]=setTimeout(d,s):d();return n},hide:function(){var e=this,t=e._;t&&o.each([_,w],function(e,n){n=t[e];delete t[e];n&&c(n)});x.__super__.hide.apply(e,arguments);return e}});x.config=a.config;x.get=function(e){if(e){var t,n,i=a.get();if(e&&(t=e.frameElement))for(var o in i)if(i.hasOwnProperty(o)){n=i[o];if(n.iframeNode===t)return n}return i[e]}};n.exports=x});define("lib/ui/box/1.0.1/box",["require","exports","module","./messagebox","../../../core/1.0.0/utils/util"],function(e,t,n){"use strict";var i=e("./messagebox"),o=e("../../../core/1.0.0/utils/util"),r=function(){},a=o.mix,s=function(e,t){var n=function(e,t){return void 0!==t&&null!==t&&""!==t&&!("number"==typeof t&&isNaN(t))};return function(e,t){return a(e,t,!0,!0,n)}}(),l=function(e){return!!(e&&e.nodeType&&e.tagName)},c=o.guid,u=function(){return c("__0x$")},d=function(e){var t,n=e[1]||{};t=e[0];t&&("string"==typeof t?n.html=t:"object"==typeof t&&(n=t));var i=n.skin;if(i){n.className=i;delete n.skin}return n},f=function(e,t){var t=d([e,t]);return new i(t)},h=function(e,t,n){if("object"==typeof e){n=t;t=e;e=""}else if(l(t)){n=t;t={}}else"number"==typeof t&&(t={duration:t});t=t||{};var i=f(s({id:u(),content:e,className:"ui-bubble",autofocus:!1,autoRelease:!0,close:!1,xtype:"none",align:"top",duration:2e3,hideWithAni:"fadeOut",showWithAni:"fadeInUp"},t));return t.hide?i:i.show(n)},p={create:f,loadUrl:function(e,t){t=t||{};t.url=e;var n=f(t);return n.show()},loading:function(e,t){t=t||{};var n=f(s({autofocus:!0,autoRelease:!0,id:u(),modal:!0,close:!1,xtype:"loading",content:e||""},t));return t.hide?n:n.show()},alert:function(e,t){"function"==typeof t&&(t={ok:{fn:t}});t=s({title:"提示",xtype:"info",className:"ui-box-alert",autofocus:!0,id:u(),modal:!0,autoRelease:!0,content:"<div>"+e+"</div>",ok:{text:"确定",fn:function(){}}},t);return f(t).show()},confirm:function(e,t,n,i){var o;if(!i&&n&&"object"==typeof n){l(n)?i=n:o=n;n=t}if("function"!=typeof t){o=t;t=r}"function"!=typeof n&&(n=t);var a=function(e){e?t(e):n(e)};o&&(i=i||o.sender);var c=f(s({xtype:"confirm",autofocus:!0,id:u(),modal:!i,autoRelease:!0,content:"<div>"+e+"</div>",close:!1,ok:{text:"确定",fn:function(){a(!0)}},cancel:{text:"取消",fn:function(){a(!1)}}},o));return c.show(i)},bubble:h};p.tips=p.bubble;o.each(["ok","info","warn","error"],function(e,t){p[e]=function(t,n,i){var o={xtype:e};if(n&&n.nodeType){i=n;n=void 0}else"number"==typeof n?o.duration=n:o=s(o,n);return h(t,o,i)}});p.get=i.get;p.config=i.config;n.exports=p});define("lib/ui/slider/3.0.4/slider",["jquery"],function(e){"use strict";return function(e,t,n,i){function o(){if(o.result!==i)return o.result;var e,t,r,a,s,l=!1;e=n.body||n.documentElement;r=e.style;a="Transition";s=["Moz","Webkit","Khtml","O","ms"];t=0;for(;t<s.length;){if(r[s[t]+a]!==i){l=s[t];break}t++}return o.result=l}function r(e){var t=n.body||n.documentElement;if(e in t.style)return e;var i=e.charAt(0).toUpperCase()+e.substr(1);return o()+i}function a(t,n){this.element=e(t);this.options=e.extend(!0,{},s,n);this.data=e.data(this);this._defaults=s;this._control=null;this._slides=[];this.init()}"function"!=typeof e.data&&(e.data=function(t,n,i){return e(t).data(n,i)});var s,l=t.setTimeout,c=t.clearTimeout,u="undefined"!=typeof TouchEvent,d=r("transition"),f=(r("transform"),r("perspective")),h=function(e,t,n,i){var o;return function(){var r=i||this,a=arguments,s=function(){o=null;n||e.apply(r,a)},u=n&&!o;c(o);o=l(s,t);u&&e.apply(r,a)}},p=function(){var t=/[-_]\D/g,n=function(e){return e.charAt(1).toUpperCase()},o=function(e){return e.replace(t,n)},a={duration:1,delay:1,timingFunction:1},s={transform:f?function(e){if("string"==typeof e)return e;e.x=e.x||0;e.y=e.y||0;e.z=e.z||0;return"translate3d("+e.x+"px, "+e.y+"px, "+e.z+"px)"}:function(e){if("string"==typeof e)return e;e.x=e.x||0;e.y=e.y||0;return"translate("+e.x+"px, "+e.y+"px)"}};return function(t,n,l,c){t=e(t);c=c===i||c;if("boolean"==typeof l){c=l;l=null}var u=t[0].style,d=[],f={},h=function(e){e=o(e);a[e]&&(e="transition"+e.charAt(0).toUpperCase()+e.substr(1));return r(e)},p=function(e,t){s[e]&&(t=s[e](t));e=h(e);u[e]=t;d.push(e)};if(l||c){var m="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd";t.on(m,function y(e){t.off(m,y);var n=d.length;l&&l(e);if(c)for(;n--;)u[d[n]]=""})}for(var v in n)if(n.hasOwnProperty(v)){f[v]=1;p(v,n[v])}var g="timing-function";f.duration&&!f[g]&&p(g,"ease-in-out")}}(),m=function(t,n){t=t||{};var i=e(t),o=Array.prototype.slice;n=n||t.name;e.each({on:"on",un:"off",once:"one",emit:"trigger"},function(e,r){t[e]=function(t){var a=o.call(arguments,0),s=a[1];
n&&!~t.indexOf(".")&&(a[0]=t+"."+n);"function"==typeof s&&("on"===e?a[1]=s.__||(s.__=function(e){return s.apply(this,o.call(arguments,1))}):"un"===e&&(a[1]=s.__));return i[r].apply(i,a)}});return t},v="slider";s={width:940,height:528,autoScale:!1,start:0,cls:{item:"ui-slider-slide",active:"ui-slider-i-on"},lazyLoad:{enable:!0,attr:"data-src",loadingClass:"ui-slider-img-loading"},navigation:{arrows:!0,toggleOnHover:!1,effect:"slide",nextArrow:'<a href="#" class="ui-slider-navigation ui-slider-next" title="Next">Next</a>',prevArrow:'<a href="#" class="ui-slider-navigation ui-slider-prev" title="Previous">Previous</a>'},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!0,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}};e.extend(a.prototype,{init:function(){var n,i,o,r,a,s,l=this,c=l.element,d=l.options,f=l.data;f.animating=!1;f.total=s=c.children().not(".ui-slider-navigation",c).length;f.current=d.start;u&&(d.effect.slide.speed=d.effect.slide.speed/2);m(l,"slide");c.css({overflow:"hidden"}).addClass("ui-slider");c.children().not(".ui-slider-navigation",c).wrapAll('<div class="ui-slider-container">',c).parent().css({overflow:"hidden",position:"relative"});e(".ui-slider-container",c).wrapInner('<div class="ui-slider-control">',c);var p=l._control=e(".ui-slider-control",c),v=l._slides=p.children();p.css({position:"relative",left:0});v.addClass(d.cls.item).css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}).each(function(t,n){e(n).attr("data-slide-idx",t)});c.show();l.update();d.lazyLoad.enable&&l.lazyLoad().on("slide",function(e,t){l.lazyLoad()});if(u){l._setuptouch();p.on("touchstart",function(e){l._touchstart(e)}).on("touchmove",function(e){l._touchmove(e)}).on("touchend",function(e){l._touchend(e)})}var g=d.navigation;if(g.arrows){n=c.find(".ui-slider-prev");i=c.find(".ui-slider-next");n.length||(n=e(g.prevArrow).appendTo(c));i.length||(i=e(g.nextArrow).appendTo(c))}n.click(function(e){e.preventDefault();l.prev()});i.click(function(e){e.preventDefault();l.next()});if(g.toggleOnHover){var y=i.show().width(),x=n.show().width(),_=function(e,t){var o=+!!e,r={right:-1*!o*y,opacity:o},a={left:-1*!o*x,opacity:o};if(t){i.animate(r,200);n.animate(a,200)}else{i.css(r);n.css(a)}};_(!1);c.on("mouseenter",function(e){_(!0,!0)}).on("mouseleave",function(e){_(!1,!0)})}if(d.play.active){r=e('<a href="#" class="ui-slider-navigation ui-slider-play" title="Play">Play</a>').appendTo(c);a=e('<a href="#" class="ui-slider-navigation ui-slider-stop" title="Stop" style="display:'+(d.play.swap?"none":"")+'">Stop</a>').appendTo(c);r.click(function(e){e.preventDefault();l.play(!0)});a.click(function(e){e.preventDefault();l.stop(!0)})}if(s>1&&d.pagination.active){o=e('<ul class="ui-slider-pagination" />').appendTo(c).on("click","[data-slide-idx]",function(t){t.preventDefault();l.go(+e(t.currentTarget).attr("data-slide-idx"))});for(var w=-1;++w<s;)e('<li class="ui-slider-pagination-item"><a href="#" data-slide-idx="'+w+'">'+(w+1)+"</a></li>").appendTo(o)}var b=h(function(){if(f.animating)return b();l.update()},100);e(t).on("resize",b);l.once("destroy",function(){e(t).off("resize",b)});l._setActive();var C=d.play.auto;C&&l.play();l.on("slide",function(e,t){var n=e.next;d.callback.complete(n,v[n]);C&&l.play()});d.callback.loaded(d.start)},lazyLoad:function(){function t(t){var i=e(t).find("["+r+"]").get();i.unshift(t);e(i).each(function(t,n){var i=n.tagName.toLowerCase(),o=e(n),s=o.attr(r),l=new Image;if(s&&n.src!==s){l.onload=function(){l=l.onload=null;o.animate({opacity:0},100,function(){"img"===i?o.attr("src",s):o.css("background-image","url("+s+")");o.animate({opacity:1},200,function(){o.removeAttr(r).removeClass(a)})})};l.src=s}});n.emit("loadSlide",t)}var n=this,i=n.options.lazyLoad,o=n._slides,r=i.attr||"data-src",a=i.loadingClass;e.each(n._cursor(),function(e,n){t(o[n])});return n},_setActive:function(t){var n,i;n=this.element;i=t>-1?t:this.data.current;e(".active",n).removeClass("active");e(e(".ui-slider-pagination li",n)[i]).find("a").addClass("active")},update:function(){var t,n,i=this.element,o=this.options,r=this.data.current,a=this._control;if(!this.data.animating){this._slides.each(function(t,n){t===r?e(n).css({display:"block",zIndex:1}).addClass(o.cls.active):e(n).css({display:"none",left:0,zIndex:0})});t=i.width()||o.width;n=i.height()||o.height;o.autoScale&&(n=o.height/o.width*t);o.width=t;o.height=n;a.css({width:t+"px",height:n+"px",lineHeight:n+"px"});e(".ui-slider-container",i).css({width:t+"px",height:n+"px"});return this}},next:function(e){this.data.direction="next";return this._transition(e)},prev:function(e){this.data.direction="prev";return this._transition(e)},_transition:function(e,t,n){if(!this.data.animating){this.stop();if("number"!=typeof e){n=t;t=e;e=-1}if("function"==typeof t){n=t;t=""}t=t||this.options.navigation.effect;"fade"===t?this._fade(e,n):this._slide(e,n)}return this},go:function(e){var t=this.data.total;e>t-1?e=t-1:e<0&&(e=0);return this._transition(e)},_cursor:function(e){var t=this.data,n=e||t.current,i=t.total,o=i-1,r=n+1,a=n-1;a<0&&(a=o);r>o&&(r=0);return{current:n,prev:a,next:r}},_setuptouch:function(){var t=this.options.width,n=this._slides,i=this._cursor(),o=i.prev,r=i.next;if(r!==o){e(n[r]).css({display:"block",left:t});e(n[o]).css({display:"block",left:-1*t})}else e(n[r]).css({display:"block"})},_touchstart:function(e){this.stop();var t,n,i,o=this.data;t=(e.originalEvent||e).touches[0];this._setuptouch();n=t.pageX;i=t.pageY;t=o.touches={startX:n,startY:i,scroll:null,time:+new Date};t.start=t.current=n;e.stopPropagation()},_touchend:function(e){var t,n,i,o,r=this,a=r.options,s=r.data,l=this._control,c=s.touches,u=a.width;e.stopPropagation();if(!c.scroll){t=+new Date-c.time;n=c.current-c.start;i=Math.abs(n);if(s.total>1&&(i>.4*u||i>.1*u&&t<300)){o=n<0?"next":"prev";s.direction=o;r._slide()}else p(l,{transform:{x:0,y:0},duration:.85*a.effect.slide.speed+"ms"})}},_touchmove:function(e){var t=this.data,n=!0,i=(e.originalEvent||e).touches[0],o=t.touches,r=i.pageX,a=i.pageY,s=o.scroll;null===s&&n&&(s=!!(s||Math.abs(a-o.startY)>Math.abs(r-o.startX)));null!==s||n||(s=!!(s||Math.abs(a-o.startY)<Math.abs(r-o.startX)));e.stopPropagation();o.current=r;o.scroll=s;if(!t.animating&&!s){e.preventDefault();p(this._control,{"timing-function":"linear",transform:{x:r-o.startX,y:0}},!1)}},play:function(t){var n=this,i=n.options,o=n.data,r=n.element,a=i.play.interval;if(o.total>1&&!o.playInterval){if(t){o.direction="next";n._transition()}o.playInterval=l(function s(){o.direction="next";o.playInterval=null;n._transition(function(){o.stoped||(o.playInterval=l(s,a))})},a);if(i.play.pauseOnHover){if(o._restartTimer){c(o._restartTimer);o._restartTimer=null}e(".ui-slider-container",r).off().on("mouseenter",function(e){o.stoped&&!o._restartTimer||n.stop()}).on("mouseleave",function(t){if(!e.contains(n.element[0],t.toElement)){var r,a=i.play.restartDelay;if(a){(r=o._restartTimer)&&c(r);o._restartTimer=l(function(){n.play(!0)},a)}else n.play()}})}o.stoped=!1;e(".ui-slider-play",r).addClass("ui-slider-playing");if(i.play.swap){e(".ui-slider-play",r).hide();e(".ui-slider-stop",r).show()}}return n},stop:function(t){var n=this.element,i=this.data;if(i._restartTimer){c(i._restartTimer);i._restartTimer=null}if(i.playInterval){c(i.playInterval);i.playInterval=null}i.stoped=!0;e(".ui-slider-play",n).removeClass("ui-slider-playing");if(this.options.play.swap){e(".ui-slider-stop",n).hide();e(".ui-slider-play",n).show()}return this},_slide:function(t,n){var i,o,r,a,s=this,l=s.data,c=s.options,f=(s.element,s._control),h=s._slides,m=c.callback;if("function"==typeof t){n=t;t=-1}if(!l.animating&&t!==l.current){l.animating=!0;i=l.current;if("number"==typeof t&&t>-1){a=t>i?1:-1;r=t}else{a="next"===l.direction?1:-1;r=i+a}o=c.width*(-1*a);r===-1&&(r=l.total-1);r===l.total&&(r=0);this._setActive(r);t>-1&&h.each(function(t,n){t!==i&&e(n).css({display:"none",left:0,zIndex:0})});e(h[r]).css({display:"block",left:a*c.width,zIndex:1});m.start(r,h[r]);var v=function(){var t=c.cls.active;e(h[r]).css({left:0}).addClass(t);e(h[i]).css({display:"none",left:0,zIndex:0}).removeClass(t);l.stoped=!1;l.current=r;l.animating=!1;n&&n();s.emit("slide",[s._cursor(),h[r]])},g=c.effect.slide.speed;d?p(f,{transform:{x:o,y:0},duration:g+"ms"},function(t){h.each(function(t,n){t!==r&&e(n).css({display:"none",left:0,zIndex:0})});v();u&&s._setuptouch()}):f.stop().animate({left:o},g,function(){f.css({left:0});v()})}},_fade:function(t,n){var i,o,r,a=this,s=a.options,l=a.data,c=a._slides,u=s.callback;if(!l.animating&&t!==l.current){l.animating=!0;i=l.current;if("number"==typeof t&&t>-1){r=t>i?1:-1;o=t}else{r="next"===l.direction?1:-1;o=i+r}o===-1&&(o=l.total-1);o===l.total&&(o=0);this._setActive(o);e(c[o]).css({display:"none",left:0,zIndex:1});u.start(o,c[o]);var d=function(){var t=s.cls.active;e(c[o]).addClass(t);e(c[i]).removeClass(t);l.stoped=!1;l.current=o;l.animating=!1;n&&n();a.emit("slide",[a._cursor(),c[o]])},f=s.effect.fade.speed;if(s.effect.fade.crossfade){e(c[i]).stop().fadeOut(f);e(c[o]).stop().fadeIn(f,function(){e(c[o]).css({zIndex:0});d()})}else e(c[i]).stop().fadeOut(f,function(){e(c[o]).stop().fadeIn(f,function(){e(c[o]).css({zIndex:1})});d()})}},destroy:function(){var t=this.element;e(".ui-slider-container",t).off();this.stop(!0);this._control.off();this.emit("destroy")}});e.fn[v]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+v))return e.data(this,"plugin_"+v,new a(this,t))})};return a}(e,window,document)});!function(e,t,n){"function"==typeof define&&define.amd?define("lib/plugins/lazyload/1.9.3/lazyload",["jquery"],n):e[t]=n(e.jQuery||e.Zepto)}(this,"Lazyload",function(e,t){"use strict";if(!e)throw"Error: jquery api not implements.";var n=e.each,i=function(e,t){if(e instanceof Array&&e.filter)return e.filter(t);for(var n=[],i=-1,o=e.length;++i<o;)t(e[i],i)&&n.push(e[i]);return n},o=function(e,t,n,i){var o;return function(){var r=i||this,a=arguments,s=function(){o=null;n||e.apply(r,a)},l=n&&!o;clearTimeout(o);o=setTimeout(s,t);l&&e.apply(r,a)}},r=function(t,n){t=t||{};var i=e(t),o=Array.prototype.slice;n=n||t.name;e.each({on:"on",un:"off",once:"one",emit:"trigger"},function(e,r){t[e]=function(t){var a=o.call(arguments,0),s=a[1];n&&!~t.indexOf(".")&&(a[0]=t+"."+n);"function"==typeof s&&("on"===e||"once"===e?a[1]=s.__||(s.__=function(e){e.preventDefault();return s.apply(this,o.call(arguments,1))}):"un"===e&&(a[1]=s.__));return i[r].apply(i,a)}});return t},a=window,s=e(a),l=a.Image,c=/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion),u="__lazy_status__",d=0,f=1,h=2,p=function(e){return e[u]===t},m=function(){var e={},t=function(t,n){"function"==typeof n&&(e[t]=n)},n=function(t){return e[t]};return{define:t,get:n}}();m.define("image",function(n,i,o,r){if(i){var a=new l,s=function(){a.onload=a.onerror=null;a=i=n=r=s=t};a.onload=function(){var t=e(n),a=o.effect;"function"!=typeof t[a]&&(a="show");t.hide();"IMG"===n.nodeName.toUpperCase()?t.attr("src",i):t.css("background-image",'url("'+i+'")');t[a](o.effectSpeed);r(null,"load");s()};a.onerror=function(e){r(e);s()};a.src=i}else r("error")});m.define("html",function(e,t,n,i){i()});var v=function(t,l){l=l||{};t=e(t);var v=this,w={type:"image",threshold:50,failureLimit:0,event:"scroll",effect:"show",container:a,dataAttribute:"src",sourceMaker:null,skipInvisible:!0,appear:null,load:null,loadingClass:"",placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};r(v);var b=l.type||w.type,C=m.get(b);if("function"!=typeof C)throw"Error, cannot found the specific type loader (type: `"+b+"`)";"html"===b&&(w.placeholder="");l&&e.extend(w,l);var S=w.container,T=w.event,k=0===T.indexOf("scroll"),A=S&&S!==a?e(S):s,B=function(t){var i=v._list;if(i.length>0){var o=0;n(i.slice(0),function(t,n){var i=e(n);if(!w.skipInvisible||i.is(":visible"))if(x(n,w)||_(n,w));else if(g(n,w)||y(n,w)){if(++o>w.failureLimit)return!1}else{i.trigger("appear");o=0}})}else v.reset()},E=function(){v._list=i(v._list,function(e){return!e[u]})},I=function(){var t=this,n=e(t),i=n.attr("data-"+w.dataAttribute),o=w.sourceMaker,r=w.appear,a=w.loadingClass,s=t[u];if(s===d){t[u]=f;a&&n.addClass(a);o&&(i=o(i,t));r&&r.apply(v,[t,i]);C.call(v,t,i,w,function(e,o){if(!v._destroyed){a&&n.removeClass(a);if(e)setTimeout(function(){t[u]=d;v.emit("lazyItemError",t,i,e);t=null},300);else{t[u]=h;E();v.emit("lazyItemReady",t,i,o);var r=w.load;r&&r.apply(v,[t,i,o]);t=null}n=null}})}else if(s===h){E();v.emit("lazyItemReady",t,i)}},z=function(){this[u]||e(this).trigger("appear")},D=function(t){var n=e(t);t[u]=d;var i=w.placeholder;if(i)if(n.is("img")){var o=n.attr("src");o||n.attr("src",i)}else"image"===v._.type||n.children()[0]||n.html(i);n.on("appear",I);k||n.on(T,z);v._list.push(t)},O=function(e){e=i(e||[],p);if(e.length){n(e,function(e,t){D(t)});v._inited||j(v)}},j=function(t){if(!t._inited){var i=o(B,30);t._inited=!0;k&&A.on(T,i);s.on("resize",i);if(c){var r=function(i){i.originalEvent&&i.originalEvent.persisted&&n(t._list,function(t,n){e(n).trigger("appear")})};s.on("pageshow",r);t.once("reset",function(){s.off("pageshow",r)})}t.once("reset",function(){n(t._list,function(e,t){M(t)});k&&A.off(T,i);s.off("resize",i)});e(document).ready(B)}},M=function(t){var n=e(t);n.off("appear",I);k||n.off(T,z)};v.on("lazyItemReady",function(e){M(e)});v.once("destroy",function(){O=null;B=null;E=null;I=null;z=null});v._=w;v._list=[];v.add=function(t){var n=e(t);n.length>0&&O(n)};v.update=B;O(t)};v.prototype={constructor:v,update:function(){},peek:function(){var e=this._list,n=e.length;return n>0?e[0]:t},reset:function(){if(!this._inited)return this;this._inited=!1;this.emit("reset");this._list.length=0;return this},destroy:function(){if(!this._destroyed){this._destroyed=!0;this.reset().emit("destroy");this.un();this._=null}}};v.define=function(e,t){return m.define(e,t)};var g=function(t,n){var i,o=n.container;i=o&&o!==a?e(o).offset().top+e(o).height():(a.innerHeight?a.innerHeight:s.height())+s.scrollTop();return i<=e(t).offset().top-n.threshold},y=function(t,n){var i,o=n.container;i=o&&o!==a?e(o).offset().left+e(o).width():s.width()+s.scrollLeft();return i<=e(t).offset().left-n.threshold},x=function(t,n){var i,o=n.container;i=o&&o!==a?e(o).offset().top:s.scrollTop();return i>=e(t).offset().top+n.threshold+e(t).height()},_=function(t,n){var i,o=n.container;i=o&&o!==a?e(o).offset().left:s.scrollLeft();return i>=e(t).offset().left+n.threshold+e(t).width()},w=function(e,t){return!(y(e,t)||_(e,t)||g(e,t)||x(e,t))};v.belowthefold=g;v.rightoffold=y;v.abovethetop=x;v.leftofbegin=_;v.inviewport=w;return v});define("lib/core/1.0.0/io/request",["require","exports","module","jquery","../utils/util","../event/emitter"],function(e,t,n){"use strict";var i=e("jquery"),o=e("../utils/util"),r=e("../event/emitter"),a=o.setImmediate,s=o.noop,l=o.extend,c=i.trim,u=i.parseJSON,d=function(e,t,n){return function(i,o){try{return e.apply(t,arguments)}catch(r){n&&n(r,i,o)}}},f=function(e){return t.emit.apply(t,arguments)};r.applyTo(t);var h=function(){var e=5,t=0,n=[],o=function(){a(function(){--t;r()})},r=function(){if(n.length>0&&t<e){var r=n.shift(),a=r[0],s=r[1];++t;a.always(o);i.ajax(s)}};return function(e,t){n.push([e,t]);r()}}(),p=function(e){r.applyTo(this);var t={url:"",type:"GET",data:{},dataType:"json",timeout:3e4,cache:!1};e=l(t,e);delete e.error;delete e.success;this._opts=e};l(p.prototype,{send:function(){var e=this,t=this._opts,n=l({},t),i="jsonp"===n.dataType;i&&(n.crossDomain=!0);n.complete=function(n,o){var r,a=+n.status,s=n.responseJSON,l={error:"1",msg:"Request error (status: "+(o||a)+")"},d=200===a||"success"===o;if(!i&&!s){s=c(n.responseText);if(s&&"<"!==s.charAt(0))try{s=u(s)}catch(f){}}d||(s=s||l);r={data:s,xhr:n,origin:t,status:a||o};d?e.emit("response",null,r):e.emit("error",s,r);e.emit("end",r);e.destroy()};h(e,n);return e},always:function(e){"function"==typeof e&&this.on("end",e);return this},destroy:function(){this.un();this._opts=null}});t.on("request",function(e,t){t=t&&i(t);if(t){if(1===+t.attr("data-async-lock"))return;t.attr("data-interval",1*new Date);var n="disabled";t.addClass(n).prop("disabled",!0);e.once("end",function(){t.removeClass(n).prop("disabled",!1);t=null})}});t.ajax=function(e,t,n,o){o=o||1e3;if("object"==typeof e){n=t;t=e;e=void 0}t=t||{};e&&(t.url=e);var r=new p(t),l=function(e,n){var i=e.stack&&e.stack.split("\n").slice(0,2).join("\n")||e,o={stack:i,origin:t,response:n};f("error",o,n);a(function(){console.log("%c "+i,"color:#ae0000")},1)},c=d(t.error||s,null,l),u=d(t.success||s,null,l);if(f("request",r,n)!==!1){if(n&&(n=i(n))){var h,m,v="data-async-lock";if(1===+n.attr(v))return;if(m=n.attr("data-async-text")){h=n.html();n.html(m)}n.attr(v,1);r.once("response error",function(){if(n){var e=n.attr("data-interval"),t=1*new Date,i=t-e;if(i>o){n.attr(v,0);n=null}else setTimeout(function(){n.attr(v,0);n=null},o-i);m&&n.html(h)}})}r.on("error",function(e,t){var n={code:e.error,message:e.msg,status:t.status,origin:t.origin,response:t.data};f("error",n,t)!==!1&&c(e)});r.on("response",function(e,t){t=t.data;f("response",t)!==!1&&(e?c(e):t&&0===+(t.error||0)?u(t):c(t))});return r.send()}};i.each(["get","post","jsonp"],function(e,n){t[n]=function(e,i,o,r,a,s){s=s||1e3;if("function"==typeof i){a=a||r;r=o;o=i;i=void 0}if(r&&"function"!=typeof r){a=r;r=void 0}var c={data:i,success:o,error:r||o};"string"==typeof e?c.url=e:l(c,e);var u=n;if("jsonp"===n){u="get";c.dataType="jsonp"}c.type=u;return t.ajax(c,a,s)}})});define("lib/core/1.0.0/dom/dataset",["require","exports","module","jquery"],function(e,t,n){"use strict";function i(e){return e.replace(s,"ms-").replace(l,c)}function o(e){try{return"true"===e||"false"!==e&&("null"===e?null:+e+""===e?+e:u.test(e)?a.parseJSON(e):e)}catch(t){}}function r(e,t,n){var i;if(void 0===n&&1===e.nodeType){i="data-"+t.replace(d,"-$&").toLowerCase();n=e.getAttribute(i);"string"!=typeof n&&(n=void 0)}return n}var a=(window.document,e("jquery")),s=/^-ms-/,l=/-([\da-z])/gi,c=function(e,t){return t.toUpperCase()},u=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,d=/[A-Z]/g,f=function(e,t,n){if(!e||1!==e.nodeType)throw new TypeError("dataset(): Not a valid DOM element.");var a,s,l,c;if(1===arguments.length){if(l=e.dataset){c={};for(s in l)l.hasOwnProperty(s)&&(c[s]=o(l[s]));return c}l=e.attributes;a=l.length;c={};for(;a--;)if(l[a]){s=l[a].name;if(0===s.indexOf("data-")){s=i(s.slice(5));c[s]=o(r(e,s))}}return c}};n.exports=f});define("lib/core/1.0.0/dom/build",["require","exports","module","jquery","./dataset"],function(e,t,n){"use strict";function i(e,t,n,i){i?e[t]||(e[t]=n):e[t]?e[t]=e[t].add(n):e[t]=r(n)}var o=window.document,r=e("jquery"),a=function(e,t,n){var a,s,l,c,u,d=function(e){if(n)for(var o in n)l[o]=r(n[o].toString(),e);else{l={};c=r("[node-type]",e);for(var a,s=-1,u=c.length;++s<u;){a=c[s];o=a.getAttribute("node-type");i(l,o,a,t)}}},f=function(e){var n,o=l[e];if(!o||0===o.length){n=r('[node-type="'+e+'"]',a);n.length&&i(l,e,n,t);o=l[e]}return o};void 0===t&&(t=!0);a=e;if("string"==typeof e&&"<"===e.charAt(0)){a=o.createElement("div");a.innerHTML=e;s=o.createDocumentFragment();for(;u=a.firsChild;)s.appendChild(u)}else{a=r(e);s=a[0]}d(a);return{get:f,box:s,list:l}};t.build=a,t.parse=function(e,t,n){"object"==typeof e&&e.length>0&&(e=e[0]);if(!e||1!==e.nodeType)throw TypeError("parse error, not a valid html element");if("boolean"==typeof n){t=n;n=null}return a(e,t,n).list};t.dataset=e("./dataset")});define("module/top-search/1.0.0/top-search",["require","exports","module","jquery","lib/core/1.0.0/utils/util","lib/core/1.0.0/dom/build"],function(e,t,n){"use strict";function i(e){var t=this,n={activeClass:"focus",selector:"#jTopSearch",url:$PAGE_DATA&&$PAGE_DATA.topSearchUrl||"",data:{},alias:"name"};t.options=o.extend(!0,{},n,e);if(""==t.options.url)throw new Error("the params options.url is required");t.el=o(t.options.selector);var i=r.build(t.el[0],!1);t.ipt=i.get("ipt");t.btn=i.get("btn");t.lbl=i.get("lbl");t._init();t._initEvent()}var o=e("jquery"),r=(e("lib/core/1.0.0/utils/util"),e("lib/core/1.0.0/dom/build"));i.prototype._initEvent=function(){var e=this;e.ipt.on("focus",function(){e.focus()});e.ipt.on("blur",function(){0==e.getValue().length&&e.blur()});e.ipt.on("keydown",function(t){13===t.keyCode&&e.search()});e.btn.on("click",function(){e.search()})};i.prototype._init=function(){var e=this,t=o.trim(e.ipt.val()),n=e.ipt.attr("data-id");t.length>0&&e.focus();n&&(e.options.alias=n);e.options.data&&(e.options.data[e.options.alias]=o.trim(e.ipt.val()))};i.prototype.focus=function(){var e=this;e.el.addClass(e.options.activeClass)};i.prototype.blur=function(){var e=this;e.el.removeClass(e.options.activeClass)};i.prototype.getValue=function(){var e=this;return o.trim(e.ipt.val())};i.prototype.search=function(){var e=this;e.options.data[e.options.alias]=e.getValue();window.location.href=e.options.url+"?"+e._getUrlString()};i.prototype._getUrlString=function(){var e=this,t="",n=0;for(var i in e.options.data){t+=0==n?i+"="+encodeURIComponent(e.options.data[i]):"&"+i+"="+encodeURIComponent(e.options.data[i]);n++}return t};n.exports=i});define("lib/core/1.0.0/io/cookie",["require","exports","module"],function(e,t,n){"use strict";var i=window.document,o=function(e){if("string"!=typeof e)throw"trim need a string as parameter";for(var t=e.length,n=0,i=t-1,o=/(\u3000|\s|\t|\u00A0)/;n<t&&o.test(e.charAt(n));)++n;for(;i>=0&&o.test(e.charAt(i));)--i;return e.substring(n,i+1)},r=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},a=function(e,t,n){n=n||{};if(void 0!==t){n=r(n);if(null===t){t="";n.expires=-1}if("number"==typeof n.expires){var a=n.expires,s=n.expires=new Date;s.setTime(s.getTime()+864e5*a)}var l=function(e){try{return n.raw?e:encodeURIComponent(e)}catch(t){}return e};return i.cookie=[l(e),"=",l(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var t=null,c=i.cookie,u=function(e){return n.raw?e:decodeURIComponent(e)},d=c?c.split("; "):[],f=-1,h=d.length,p=e.length+1;++f<h;){c=o(d[f]);if(c.substring(0,p)===e+"="){t=u(c.substring(p));break}}return t};a.set=function(e,t,n){return a(e,t,n)};a.get=function(e){return a(e)};n.exports=a});define("module/login-status/1.0.0/login",["require","exports","module","lib/core/1.0.0/io/cookie"],function(e,t,n){"use strict";var i=e("lib/core/1.0.0/io/cookie"),o="_nick",r="_ui_",a=$PAGE_DATA&&$PAGE_DATA.LOGIN_URL||"",s=$PAGE_DATA&&$PAGE_DATA[o]||null;t.getNick=function(){return s};t.isLogin=function(){return!!i(r)};t.login=function(e){if(a){e=e?"?returnUrl="+decodeURIComponent(e):"";window.location.href=a+e}}});define("module/login-status/1.0.0/login-status",["require","exports","module","jquery","lib/core/1.0.0/dom/build","./login"],function(e,t,n){"use strict";function i(e){var t=this,n={selector:"#jLoginStatus",userCenterUrl:$PAGE_DATA&&$PAGE_DATA.userCenterUrl||"javascript:;",loginOutUrl:$PAGE_DATA&&$PAGE_DATA.loginOutUrl||"javascript:;",menuList:[{title:"编辑资料",url:$PAGE_DATA&&$PAGE_DATA.editUserInfoUrl||"javascript:;"},{title:"学习中心",url:$PAGE_DATA&&$PAGE_DATA.learningCenterUrl||"javascript:;"}]};t.options=o.extend(!0,{},n,e);t.el=o(t.options.selector);t._init()}var o=e("jquery"),r=e("lib/core/1.0.0/dom/build"),a=e("./login");i.prototype._init=function(){var e=this;if(a.isLogin()){var t=a.getNick();e.el.html(e._getLoginedHtml(t));e._initEvent()}};i.prototype._initEvent=function(){var e=this,t=!1,n=r.build(e.el[0],!1),i=n.get("userName"),o=n.get("tipsMenu");i.on("mouseenter",function(){t=!0;o.stop().fadeIn(500,function(){o.addClass("active")})});i.on("mouseleave",function(){t=!1;setTimeout(function(){t||o.stop().fadeOut(500,function(){o.removeClass("active")})},200)});o.on("mouseenter",function(){t=!0});o.on("mouseleave",function(){t=!1;o.removeClass("active")})};i.prototype._getLoginedHtml=function(e){var t=this,n=t.options,i=n.menuList,o="";o+='<ul class="logined clearfix" node-type="logined">';o+='    <li class="item">';o+="        <span>您好，</span>";o+="    </li>";o+='    <li class="item tips-menu-box">';o+='        <a href="'+n.userCenterUrl+'" class="user-name txt-overflow" node-type="userName">'+e+"</a>";o+='        <div class="tips-menu" node-type="tipsMenu">';o+='            <div class="arrow"><i></i><b></b></div>';o+='            <ul class="tips-menu-list">';for(var r=0,a=i.length;r<a;r++)o+='            <li class="tips-menu-item"><a href="'+i[r].url+'">'+i[r].title+"</a></li>";o+="            </ul>";o+="        </div>";o+="    </li>";o+='    <li class="item">';o+='        <a href="'+n.loginOutUrl+'" class="btn">退出</a>';o+="    </li>";o+="</ul>";return o};n.exports=i});define("module/fix-bar/1.0.0/fix-bar",["require","exports","module","jquery","lib/core/1.0.0/utils/util","lib/core/1.0.0/dom/build"],function(e,t,n){"use strict";function i(e){var t=this,n={onlineServiceUrl:$PAGE_DATA&&$PAGE_DATA.onlineServiceUrl||""};t.options=o.extend(!0,{},n,e);t._init();t._initEvent()}var o=e("jquery");e("lib/core/1.0.0/utils/util"),e("lib/core/1.0.0/dom/build");i.prototype._init=function(){var e=this;e.el=o(e._getTemplete());o(document.body).append(e.el);e.height=e.el.height();e.resize()};i.prototype._initEvent=function(){var e=this;o(window).on("resize",function(){e.resize()})};i.prototype.resize=function(){var e=this,t=o(window).height(),n=(t-e.height)/2;if(n>=0){e.el.css({top:n});e.el.addClass("active")}else e.el.removeClass("active")};i.prototype._getTemplete=function(){var e=this,t="";t+='<div class="ui-fix-bar">';t+='    <ul class="list clearfix" node-type="list">';if(e.options.onlineServiceUrl){t+='        <li class="jItem item item-service" node-id="service">';t+='            <a target="_blank" href="'+e.options.onlineServiceUrl+'">';t+='                <i class="iyoyo iyoyo-service"></i>';t+="                <span>在线客服</span>";t+="            </a>";t+="        </li>"}t+="    </ul>";t+="</div>";return t};n.exports=i});define("module/footer/1.0.0/footer",["require","exports","module","jquery","lib/plugins/lazyload/1.9.3/lazyload","lib/core/1.0.0/dom/build"],function(e,t,n){"use strict";function i(e){var t=this,n={selector:"#jFooter"};t.options=o.extend(!0,{},n,e);t.el=o(t.options.selector);if(0==t.el.length)throw new Error("the params [optins.selector] is required or the [el] is not exist.");t._init()}var o=e("jquery"),r=e("lib/plugins/lazyload/1.9.3/lazyload"),a=e("lib/core/1.0.0/dom/build");i.prototype._init=function(){var e=this,t=a.build(e.el[0],!1),n=t.get("footerImg");new r(n,{loadingClass:"img-error"})};n.exports=i});!function(e){"function"==typeof define&&define.amd?define("plugins/scroller/1.0.0/jquery.mCustomScrollbar",["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var n="function"==typeof define&&define.amd,i="undefined"!=typeof module&&module.exports,o="https:"==document.location.protocol?"https:":"http:",r="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";n||(i?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+o+"//"+r+"%3E%3C/script%3E")));t()}(function(){var t,n="mCustomScrollbar",i="mCS",o=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(t){var t=e.extend(!0,{},r,t),n=f.call(this);if(t.live){var l=t.liveSelector||this.selector||o,c=e(l);if("off"===t.live){p(l);return}s[l]=setTimeout(function(){c.mCustomScrollbar(t);"once"===t.live&&c.length&&p(l)},500)}else p(l);t.setWidth=t.set_width?t.set_width:t.setWidth;t.setHeight=t.set_height?t.set_height:t.setHeight;t.axis=t.horizontalScroll?"x":m(t.axis);t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia;"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1});t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount;t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta;t.scrollButtons.scrollType=v(t.scrollButtons.scrollType);h(t);return e(n).each(function(){var n=e(this);if(!n.data(i)){n.data(i,{idx:++a,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=n.data(i),r=o.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(r.axis=s);l&&(r.scrollbarPosition=l);if(c){r.theme=c;h(r)}g.call(this);o&&r.callbacks.onCreate&&"function"==typeof r.callbacks.onCreate&&r.callbacks.onCreate.call(this);e("#mCSB_"+o.idx+"_container img:not(."+u[2]+")").addClass(u[2]);d.update.call(null,n)}})},update:function(t,n){var o=t||f.call(this);return e(o).each(function(){var t=e(this);if(t.data(i)){var o=t.data(i),r=o.opt,a=e("#mCSB_"+o.idx+"_container"),s=e("#mCSB_"+o.idx),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(!a.length)return;o.tweenRunning&&G(t);n&&o&&r.callbacks.onBeforeUpdate&&"function"==typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this);t.hasClass(u[3])&&t.removeClass(u[3]);t.hasClass(u[4])&&t.removeClass(u[4]);s.css("max-height","none");s.height()!==t.height()&&s.css("max-height",t.height());x.call(this);"y"===r.axis||r.advanced.autoExpandHorizontalScroll||a.css("width",y(a));o.overflowed=S.call(this);B.call(this);r.autoDraggerLength&&w.call(this);b.call(this);k.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];if("x"!==r.axis)if(o.overflowed[0])if(l[0].height()>l[0].parent().height())T.call(this);else{V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"});o.contentReset.y=null}else{T.call(this);"y"===r.axis?A.call(this):"yx"===r.axis&&o.overflowed[1]&&V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"})}if("y"!==r.axis)if(o.overflowed[1])if(l[1].width()>l[1].parent().width())T.call(this);else{V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"});o.contentReset.x=null}else{T.call(this);"x"===r.axis?A.call(this):"yx"===r.axis&&o.overflowed[0]&&V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"})}n&&o&&(2===n&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===n&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this));X.call(this)}})},scrollTo:function(t,n){if("undefined"!=typeof t&&null!=t){
var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(i)){var r=o.data(i),a=r.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,n),c=$.call(this,t),u=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=F.call(this,c[0],"y");c[1]=F.call(this,c[1],"x");if(l.moveDragger){c[0]*=r.scrollRatio.y;c[1]*=r.scrollRatio.x}l.dur=oe()?0:u;setTimeout(function(){if(null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==a.axis&&r.overflowed[0]){l.dir="y";l.overwrite="all";V(o,c[0].toString(),l)}if(null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==a.axis&&r.overflowed[1]){l.dir="x";l.overwrite="none";V(o,c[1].toString(),l)}},l.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(i)&&G(t)})},disable:function(t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(i)){n.data(i);X.call(this,"remove");A.call(this);t&&T.call(this);B.call(this,!0);n.addClass(u[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var o=e(this);if(o.data(i)){var r=o.data(i),a=r.opt,s=e("#mCSB_"+r.idx),l=e("#mCSB_"+r.idx+"_container"),c=e(".mCSB_"+r.idx+"_scrollbar");a.live&&p(a.liveSelector||e(t).selector);X.call(this,"remove");A.call(this);T.call(this);o.removeData(i);K(this,"mcs");c.remove();l.find("img."+u[2]).removeClass(u[2]);s.replaceWith(l.contents());o.removeClass(n+" _"+i+"_"+r.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?o:this},h=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],i=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],r=["minimal","minimal-dark"],a=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,n)>-1)&&t.autoDraggerLength;t.autoExpandScrollbar=!(e.inArray(t.theme,i)>-1)&&t.autoExpandScrollbar;t.scrollButtons.enable=!(e.inArray(t.theme,o)>-1)&&t.scrollButtons.enable;t.autoHideScrollbar=e.inArray(t.theme,r)>-1||t.autoHideScrollbar;t.scrollbarPosition=e.inArray(t.theme,a)>-1?"outside":t.scrollbarPosition},p=function(e){if(s[e]){clearTimeout(s[e]);K(s,e)}},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},v=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},g=function(){var t=e(this),o=t.data(i),r=o.opt,a=r.autoExpandScrollbar?" "+u[1]+"_expand":"",s=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===r.axis?s[0]+s[1]:"x"===r.axis?s[1]:s[0],d="yx"===r.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=r.autoHideScrollbar?" "+u[6]:"",h="x"!==r.axis&&"rtl"===o.langDir?" "+u[7]:"";r.setWidth&&t.css("width",r.setWidth);r.setHeight&&t.css("height",r.setHeight);r.setLeft="y"!==r.axis&&"rtl"===o.langDir?"989999px":r.setLeft;t.addClass(n+" _"+i+"_"+o.idx+f+h).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+o.langDir+"' /></div>");var p=e("#mCSB_"+o.idx),m=e("#mCSB_"+o.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||m.css("width",y(m));if("outside"===r.scrollbarPosition){"static"===t.css("position")&&t.css("position","relative");t.css("overflow","visible");p.addClass("mCSB_outside").after(c)}else{p.addClass("mCSB_inside").append(c);m.wrap(d)}_.call(this);var v=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];v[0].css("min-height",v[0].height());v[1].css("min-width",v[1].width())},y=function(t){var n=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],i=t.parent().width();return n[0]>i?n[0]:n[1]>i?n[1]:"100%"},x=function(){var t=e(this),n=t.data(i),o=n.opt,r=e("#mCSB_"+n.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis){r.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(r[0].scrollWidth);3===o.advanced.autoExpandHorizontalScroll||2!==o.advanced.autoExpandHorizontalScroll&&a>r.parent().width()?r.css({width:a,"min-width":"100%","overflow-x":"inherit"}):r.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},_=function(){var t=e(this),n=t.data(i),o=n.opt,r=e(".mCSB_"+n.idx+"_scrollbar:first"),a=ne(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+u[13]+"' "+a+" />","<a href='#' class='"+u[14]+"' "+a+" />","<a href='#' class='"+u[15]+"' "+a+" />","<a href='#' class='"+u[16]+"' "+a+" />"],l=["x"===o.axis?s[2]:s[0],"x"===o.axis?s[3]:s[1],s[2],s[3]];o.scrollButtons.enable&&r.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},w=function(){var t=e(this),n=t.data(i),o=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),a=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[o.height()/r.outerHeight(!1),o.width()/r.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],u=l&&c[1]<c[0]?c[0]:c[1],d=l&&c[3]<c[2]?c[2]:c[3];a[0].css({height:u,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"});a[1].css({width:d,"max-width":a[1].parent().width()-10})},b=function(){var t=e(this),n=t.data(i),o=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),a=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[r.outerHeight(!1)-o.height(),r.outerWidth(!1)-o.width()],l=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];n.scrollRatio={y:l[0],x:l[1]}},C=function(e,t,n){var i=n?u[0]+"_expanded":"",o=e.closest(".mCSB_scrollTools");if("active"===t){e.toggleClass(u[0]+" "+i);o.toggleClass(u[1]);e[0]._draggable=e[0]._draggable?0:1}else if(!e[0]._draggable)if("hide"===t){e.removeClass(u[0]);o.removeClass(u[1])}else{e.addClass(u[0]);o.addClass(u[1])}},S=function(){var t=e(this),n=t.data(i),o=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),a=null==n.overflowed?r.height():r.outerHeight(!1),s=null==n.overflowed?r.width():r.outerWidth(!1),l=r[0].scrollHeight,c=r[0].scrollWidth;l>a&&(a=l);c>s&&(s=c);return[a>o.height(),s>o.width()]},T=function(){var t=e(this),n=t.data(i),o=n.opt,r=e("#mCSB_"+n.idx),a=e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];G(t);if("x"!==o.axis&&!n.overflowed[0]||"y"===o.axis&&n.overflowed[0]){s[0].add(a).css("top",0);V(t,"_resetY")}if("y"!==o.axis&&!n.overflowed[1]||"x"===o.axis&&n.overflowed[1]){var l=dx=0;if("rtl"===n.langDir){l=r.width()-a.outerWidth(!1);dx=Math.abs(l/n.scrollRatio.x)}a.css("left",l);s[1].css("left",dx);V(t,"_resetX")}},k=function(){function t(){a=setTimeout(function(){if(e.event.special.mousewheel){clearTimeout(a);O.call(n[0])}else t()},100)}var n=e(this),o=n.data(i),r=o.opt;if(!o.bindEvents){I.call(this);r.contentTouchScroll&&z.call(this);D.call(this);if(r.mouseWheel.enable){var a;t()}R.call(this);W.call(this);r.advanced.autoScrollOnFocus&&P.call(this);r.scrollButtons.enable&&U.call(this);r.keyboard.enable&&H.call(this);o.bindEvents=!0}},A=function(){var t=e(this),n=t.data(i),o=n.opt,r=i+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),l=e("#mCSB_"+n.idx+"_container");o.advanced.releaseDraggableSelectors&&s.add(e(o.advanced.releaseDraggableSelectors));o.advanced.extraDraggableSelectors&&s.add(e(o.advanced.extraDraggableSelectors));if(n.bindEvents){e(document).add(e(!M()||top.document)).unbind("."+r);s.each(function(){e(this).unbind("."+r)});clearTimeout(t[0]._focusTimeout);K(t[0],"_focusTimeout");clearTimeout(n.sequential.step);K(n.sequential,"step");clearTimeout(l[0].onCompleteTimeout);K(l[0],"onCompleteTimeout");n.bindEvents=!1}},B=function(t){var n=e(this),o=n.data(i),r=o.opt,a=e("#mCSB_"+o.idx+"_container_wrapper"),s=a.length?a:e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];if("x"!==r.axis)if(o.overflowed[0]&&!t){l[0].add(c[0]).add(l[0].children("a")).css("display","block");s.removeClass(u[8]+" "+u[10])}else{if(r.alwaysShowScrollbar){2!==r.alwaysShowScrollbar&&c[0].css("display","none");s.removeClass(u[10])}else{l[0].css("display","none");s.addClass(u[10])}s.addClass(u[8])}if("y"!==r.axis)if(o.overflowed[1]&&!t){l[1].add(c[1]).add(l[1].children("a")).css("display","block");s.removeClass(u[9]+" "+u[11])}else{if(r.alwaysShowScrollbar){2!==r.alwaysShowScrollbar&&c[1].css("display","none");s.removeClass(u[11])}else{l[1].css("display","none");s.addClass(u[11])}s.addClass(u[9])}o.overflowed[0]||o.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},E=function(t){var n=t.type,i=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,o=M()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+o[0],t.originalEvent.pageX-i[1]+o[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var r=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],a=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[r.screenY,r.screenX,a>1]:[r.pageY,r.pageX,a>1];default:return i?[t.pageY-i[0]+o[0],t.pageX-i[1]+o[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,i,o){h[0].idleTimer=u.scrollInertia<233?250:0;if(n.attr("id")===f[1])var r="x",l=(n[0].offsetLeft-t+o)*s.scrollRatio.x;else var r="y",l=(n[0].offsetTop-e+i)*s.scrollRatio.y;V(a,l.toString(),{dir:r,drag:!0})}var n,o,r,a=e(this),s=a.data(i),u=s.opt,d=i+"_"+s.idx,f=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],h=e("#mCSB_"+s.idx+"_container"),p=e("#"+f[0]+",#"+f[1]),m=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p,v=u.advanced.extraDraggableSelectors?e(!M()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!M()||top.document);p.bind("contextmenu."+d,function(e){e.preventDefault()}).bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(t){t.stopImmediatePropagation();t.preventDefault();if(ee(t)){c=!0;l&&(document.onselectstart=function(){return!1});L.call(h,!1);G(a);n=e(this);var i=n.offset(),s=E(t)[0]-i.top,d=E(t)[1]-i.left,f=n.height()+i.top,p=n.width()+i.left;if(s<f&&s>0&&d<p&&d>0){o=s;r=d}C(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+d,function(e){e.stopImmediatePropagation();e.preventDefault();var i=n.offset(),a=E(e)[0]-i.top,s=E(e)[1]-i.left;t(o,r,a,s)});e(document).add(v).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(e){if(n){var i=n.offset(),a=E(e)[0]-i.top,s=E(e)[1]-i.left;if(o===a&&r===s)return;t(o,r,a,s)}}).add(m).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(e){if(n){C(n,"active",u.autoExpandScrollbar);n=null}c=!1;l&&(document.onselectstart=null);L.call(h,!0)})},z=function(){function n(e){if(!te(e)||c||E(e)[2])t=0;else{t=1;b=0;C=0;u=1;S.removeClass("mCS_touch_action");var n=I.offset();d=E(e)[0]-n.top;f=E(e)[1]-n.left;q=[E(e)[0],E(e)[1]]}}function o(e){if(te(e)&&!c&&!E(e)[2]){k.documentTouchScroll||e.preventDefault();e.stopImmediatePropagation();if((!C||b)&&u){v=J();var t=B.offset(),n=E(e)[0]-t.top,i=E(e)[1]-t.left,o="mcsLinearOut";D.push(n);O.push(i);q[2]=Math.abs(E(e)[0]-q[0]);q[3]=Math.abs(E(e)[1]-q[1]);if(T.overflowed[0])var r=z[0].parent().height()-z[0].height(),a=d-n>0&&n-d>-(r*T.scrollRatio.y)&&(2*q[3]<q[2]||"yx"===k.axis);if(T.overflowed[1])var s=z[1].parent().width()-z[1].width(),h=f-i>0&&i-f>-(s*T.scrollRatio.x)&&(2*q[2]<q[3]||"yx"===k.axis);if(a||h){W||e.preventDefault();b=1}else{C=1;S.addClass("mCS_touch_action")}W&&e.preventDefault();_="yx"===k.axis?[d-n,f-i]:"x"===k.axis?[null,f-i]:[d-n,null];I[0].idleTimer=250;T.overflowed[0]&&l(_[0],j,o,"y","all",!0);T.overflowed[1]&&l(_[1],j,o,"x",L,!0)}}}function r(e){if(!te(e)||c||E(e)[2])t=0;else{t=1;e.stopImmediatePropagation();G(S);m=J();var n=B.offset();h=E(e)[0]-n.top;p=E(e)[1]-n.left;D=[];O=[]}}function a(e){if(te(e)&&!c&&!E(e)[2]){u=0;e.stopImmediatePropagation();b=0;C=0;g=J();var t=B.offset(),n=E(e)[0]-t.top,i=E(e)[1]-t.left;if(!(g-v>30)){x=1e3/(g-m);var o="mcsEaseOut",r=x<2.5,a=r?[D[D.length-2],O[O.length-2]]:[0,0];y=r?[n-a[0],i-a[1]]:[n-h,i-p];var d=[Math.abs(y[0]),Math.abs(y[1])];x=r?[Math.abs(y[0]/4),Math.abs(y[1]/4)]:[x,x];var f=[Math.abs(I[0].offsetTop)-y[0]*s(d[0]/x[0],x[0]),Math.abs(I[0].offsetLeft)-y[1]*s(d[1]/x[1],x[1])];_="yx"===k.axis?[f[0],f[1]]:"x"===k.axis?[null,f[1]]:[f[0],null];w=[4*d[0]+k.scrollInertia,4*d[1]+k.scrollInertia];var S=parseInt(k.contentTouchScroll)||0;_[0]=d[0]>S?_[0]:0;_[1]=d[1]>S?_[1]:0;T.overflowed[0]&&l(_[0],w[0],o,"y",L,!1);T.overflowed[1]&&l(_[1],w[1],o,"x",L,!1)}}}function s(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function l(e,t,n,i,o,r){e&&V(S,e.toString(),{dur:t,scrollEasing:n,dir:i,overwrite:o,drag:r})}var u,d,f,h,p,m,v,g,y,x,_,w,b,C,S=e(this),T=S.data(i),k=T.opt,A=i+"_"+T.idx,B=e("#mCSB_"+T.idx),I=e("#mCSB_"+T.idx+"_container"),z=[e("#mCSB_"+T.idx+"_dragger_vertical"),e("#mCSB_"+T.idx+"_dragger_horizontal")],D=[],O=[],j=0,L="yx"===k.axis?"none":"all",q=[],R=I.find("iframe"),P=["touchstart."+A+" pointerdown."+A+" MSPointerDown."+A,"touchmove."+A+" pointermove."+A+" MSPointerMove."+A,"touchend."+A+" pointerup."+A+" MSPointerUp."+A],W=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;I.bind(P[0],function(e){n(e)}).bind(P[1],function(e){o(e)});B.bind(P[0],function(e){r(e)}).bind(P[2],function(e){a(e)});R.length&&R.each(function(){e(this).bind("load",function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind(P[0],function(e){n(e);r(e)}).bind(P[1],function(e){o(e)}).bind(P[2],function(e){a(e)})})})},D=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function o(e,t,n){u.type=n&&r?"stepped":"stepless";u.scrollAmount=10;N(a,e,t,"mcsLinearOut",n?60:null)}var r,a=e(this),s=a.data(i),l=s.opt,u=s.sequential,d=i+"_"+s.idx,f=e("#mCSB_"+s.idx+"_container"),h=f.parent();f.bind("mousedown."+d,function(e){if(!t&&!r){r=1;c=!0}}).add(document).bind("mousemove."+d,function(e){if(!t&&r&&n()){var i=f.offset(),a=E(e)[0]-i.top+f[0].offsetTop,c=E(e)[1]-i.left+f[0].offsetLeft;if(a>0&&a<h.height()&&c>0&&c<h.width())u.step&&o("off",null,"stepped");else{"x"!==l.axis&&s.overflowed[0]&&(a<0?o("on",38):a>h.height()&&o("on",40));"y"!==l.axis&&s.overflowed[1]&&(c<0?o("on",37):c>h.width()&&o("on",39))}}}).bind("mouseup."+d+" dragend."+d,function(e){if(!t){if(r){r=0;o("off",null)}c=!1}})},O=function(){function t(t,i){G(n);if(!q(n,t.target)){var a="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100,u=r.scrollInertia;if("x"===r.axis||"x"===r.mouseWheel.axis)var d="x",f=[Math.round(a*o.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],h="auto"!==r.mouseWheel.scrollAmount?f[1]:f[0]>=s.width()?.9*s.width():f[0],p=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,v=c[1].parent().width()-c[1].width(),g="y"===r.mouseWheel.axis?t.deltaY||i:t.deltaX;else var d="y",f=[Math.round(a*o.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],h="auto"!==r.mouseWheel.scrollAmount?f[1]:f[0]>=s.height()?.9*s.height():f[0],p=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,v=c[0].parent().height()-c[0].height(),g=t.deltaY||i;if(("y"!==d||o.overflowed[0])&&("x"!==d||o.overflowed[1])){(r.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g);r.mouseWheel.normalizeDelta&&(g=g<0?-1:1);if(g>0&&0!==m||g<0&&m!==v||r.mouseWheel.preventDefault){t.stopImmediatePropagation();t.preventDefault()}if(t.deltaFactor<5&&!r.mouseWheel.normalizeDelta){h=t.deltaFactor;u=17}V(n,(p-g*h).toString(),{dir:d,dur:u})}}}if(e(this).data(i)){var n=e(this),o=n.data(i),r=o.opt,a=i+"_"+o.idx,s=e("#mCSB_"+o.idx),c=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],u=e("#mCSB_"+o.idx+"_container").find("iframe");u.length&&u.each(function(){e(this).bind("load",function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(e,n){t(e,n)})})});s.bind("mousewheel."+a,function(e,n){t(e,n)})}},j=new Object,M=function(t){var n=!1,i=!1,o=null;void 0===t?i="#empty":void 0!==e(t).attr("id")&&(i=e(t).attr("id"));if(i!==!1&&void 0!==j[i])return j[i];if(t){try{var r=t.contentDocument||t.contentWindow.document;o=r.body.innerHTML}catch(a){}n=null!==o}else{try{var r=top.document;o=r.body.innerHTML}catch(a){}n=null!==o}i!==!1&&(j[i]=n);return n},L=function(e){var t=this.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}},q=function(t,n){var o=n.nodeName.toLowerCase(),r=t.data(i).opt.mouseWheel.disableOver,a=["select","textarea"];return e.inArray(o,r)>-1&&!(e.inArray(o,a)>-1&&!e(n).is(":focus"))},R=function(){var t,n=e(this),o=n.data(i),r=i+"_"+o.idx,a=e("#mCSB_"+o.idx+"_container"),s=a.parent(),l=e(".mCSB_"+o.idx+"_scrollbar ."+u[12]);l.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(n){c=!0;e(n.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(e){c=!1}).bind("click."+r,function(i){if(t){t=0;if(e(i.target).hasClass(u[12])||e(i.target).hasClass("mCSB_draggerRail")){G(n);var r=e(this),l=r.find(".mCSB_dragger");if(r.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",d=i.pageX>l.offset().left?-1:1,f=Math.abs(a[0].offsetLeft)-d*(.9*s.width())}else{if(!o.overflowed[0])return;var c="y",d=i.pageY>l.offset().top?-1:1,f=Math.abs(a[0].offsetTop)-d*(.9*s.height())}V(n,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}}})},P=function(){var t=e(this),n=t.data(i),o=n.opt,r=i+"_"+n.idx,a=e("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+r,function(n){var i=e(document.activeElement),r=a.find(".mCustomScrollBox").length,l=0;if(i.is(o.advanced.autoScrollOnFocus)){G(t);clearTimeout(t[0]._focusTimeout);t[0]._focusTimer=r?(l+17)*r:0;t[0]._focusTimeout=setTimeout(function(){var e=[ie(i)[0],ie(i)[1]],n=[a[0].offsetTop,a[0].offsetLeft],r=[n[0]+e[0]>=0&&n[0]+e[0]<s.height()-i.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<s.width()-i.outerWidth(!1)],c="yx"!==o.axis||r[0]||r[1]?"all":"none";"x"===o.axis||r[0]||V(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l});"y"===o.axis||r[1]||V(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l})},t[0]._focusTimer)}})},W=function(){var t=e(this),n=t.data(i),o=i+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container").parent();r.bind("scroll."+o,function(t){0===r.scrollTop()&&0===r.scrollLeft()||e(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var t=e(this),n=t.data(i),o=n.opt,r=n.sequential,a=i+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",l=e(s+">a");l.bind("contextmenu."+a,function(e){e.preventDefault()}).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(i){function a(e,n){r.scrollAmount=o.scrollButtons.scrollAmount;N(t,e,n)}i.preventDefault();if(ee(i)){var s=e(this).attr("class");r.type=o.scrollButtons.scrollType;switch(i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;c=!0;n.tweenRunning=!1;a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;c=!1;r.dir&&a("off",s);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;a("on",s)}}})},H=function(){function t(t){function i(e,t){a.type=r.keyboard.scrollType;a.scrollAmount=r.keyboard.scrollAmount;"stepped"===a.type&&o.tweenRunning||N(n,e,t)}switch(t.type){case"blur":o.tweenRunning&&a.dir&&i("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,l="on";if("x"!==r.axis&&(38===s||40===s)||"y"!==r.axis&&(37===s||39===s)){if((38===s||40===s)&&!o.overflowed[0]||(37===s||39===s)&&!o.overflowed[1])return;"keyup"===t.type&&(l="off");if(!e(document.activeElement).is(d)){t.preventDefault();t.stopImmediatePropagation();i(l,s)}}else if(33===s||34===s){if(o.overflowed[0]||o.overflowed[1]){t.preventDefault();t.stopImmediatePropagation()}if("keyup"===t.type){G(n);var f=34===s?-1:1;if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])var h="x",p=Math.abs(c[0].offsetLeft)-f*(.9*u.width());else var h="y",p=Math.abs(c[0].offsetTop)-f*(.9*u.height());V(n,p.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(document.activeElement).is(d)){if(o.overflowed[0]||o.overflowed[1]){t.preventDefault();t.stopImmediatePropagation()}if("keyup"===t.type){if("x"===r.axis||"yx"===r.axis&&o.overflowed[1]&&!o.overflowed[0])var h="x",p=35===s?Math.abs(u.width()-c.outerWidth(!1)):0;else var h="y",p=35===s?Math.abs(u.height()-c.outerHeight(!1)):0;V(n,p.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}}var n=e(this),o=n.data(i),r=o.opt,a=o.sequential,s=i+"_"+o.idx,l=e("#mCSB_"+o.idx),c=e("#mCSB_"+o.idx+"_container"),u=c.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+s+" keydown."+s+" keyup."+s];f.length&&f.each(function(){e(this).bind("load",function(){M(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})});l.attr("tabindex","0").bind(h[0],function(e){t(e)})},N=function(t,n,o,r,a){function s(e){d.snapAmount&&(f.scrollAmount=d.snapAmount instanceof Array?"x"===f.dir[0]?d.snapAmount[1]:d.snapAmount[0]:d.snapAmount);var n="stepped"!==f.type,i=a?a:e?n?m/1.5:v:1e3/60,o=e?n?7.5:40:2.5,l=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],u=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],p="x"===f.dir[0]?l[1]+f.dir[1]*(u[1]*o):l[0]+f.dir[1]*(u[0]*o),g="x"===f.dir[0]?l[1]+f.dir[1]*parseInt(f.scrollAmount):l[0]+f.dir[1]*parseInt(f.scrollAmount),y="auto"!==f.scrollAmount?g:p,x=r?r:e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",_=!!e;e&&i<17&&(y="x"===f.dir[0]?l[1]:l[0]);V(t,y.toString(),{dir:f.dir[0],scrollEasing:x,dur:i,onComplete:_});if(e)f.dir=!1;else{clearTimeout(f.step);f.step=setTimeout(function(){s()},i)}}function l(){clearTimeout(f.step);K(f,"step");G(t)}var c=t.data(i),d=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),p="stepped"===f.type,m=d.scrollInertia<26?26:d.scrollInertia,v=d.scrollInertia<1?17:d.scrollInertia;switch(n){case"on":f.dir=[o===u[16]||o===u[15]||39===o||37===o?"x":"y",o===u[13]||o===u[15]||38===o||37===o?-1:1];G(t);if(ne(o)&&"stepped"===f.type)return;s(p);break;case"off":l();(p||c.tweenRunning&&f.dir)&&s(!0)}},$=function(t){var n=e(this).data(i).opt,o=[];"function"==typeof t&&(t=t());if(t instanceof Array)o=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null];else{o[0]=t.y?t.y:t.x||"x"===n.axis?null:t;o[1]=t.x?t.x:t.y||"y"===n.axis?null:t}"function"==typeof o[0]&&(o[0]=o[0]());"function"==typeof o[1]&&(o[1]=o[1]());return o},F=function(t,n){if(null!=t&&"undefined"!=typeof t){var o=e(this),r=o.data(i),a=r.opt,s=e("#mCSB_"+r.idx+"_container"),l=s.parent(),c=typeof t;n||(n="x"===a.axis?"x":"y");var u="x"===n?s.outerWidth(!1)-l.width():s.outerHeight(!1)-l.height(),f="x"===n?s[0].offsetLeft:s[0].offsetTop,h="x"===n?"left":"top";switch(c){case"function":return t();case"object":var p=t.jquery?t:e(t);if(!p.length)return;return"x"===n?ie(p)[1]:ie(p)[0];case"string":case"number":if(ne(t))return Math.abs(t);if(t.indexOf("%")!==-1)return Math.abs(u*parseInt(t)/100);if(t.indexOf("-=")!==-1)return Math.abs(f-parseInt(t.split("-=")[1]));if(t.indexOf("+=")!==-1){var m=f+parseInt(t.split("+=")[1]);return m>=0?0:Math.abs(m)}if(t.indexOf("px")!==-1&&ne(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var p=s.find(":"+t);return"x"===n?ie(p)[1]:ie(p)[0]}if(e(t).length)return"x"===n?ie(e(t))[1]:ie(e(t))[0];s.css(h,t);d.update.call(null,o[0]);return}}},X=function(t){function n(){clearTimeout(f[0].autoUpdate);0!==s.parents("html").length?f[0].autoUpdate=setTimeout(function(){if(c.advanced.updateOnSelectorChange){l.poll.change.n=r();if(l.poll.change.n!==l.poll.change.o){l.poll.change.o=l.poll.change.n;a(3);return}}if(c.advanced.updateOnContentResize){l.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+f[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth;if(l.poll.size.n!==l.poll.size.o){l.poll.size.o=l.poll.size.n;a(1);return}}if(c.advanced.updateOnImageLoad&&("auto"!==c.advanced.updateOnImageLoad||"y"!==c.axis)){l.poll.img.n=f.find("img").length;if(l.poll.img.n!==l.poll.img.o){l.poll.img.o=l.poll.img.n;f.find("img").each(function(){o(this)});return}}(c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&n()},c.advanced.autoUpdateTimeout):s=null}function o(t){function n(e,t){return function(){return t.apply(e,arguments)}}function i(){this.onload=null;e(t).addClass(u[2]);a(2)}if(e(t).hasClass(u[2]))a();else{var o=new Image;o.onload=n(o,i);o.src=t.src}}function r(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth});return e}function a(e){clearTimeout(f[0].autoUpdate);d.update.call(null,s[0],e)}var s=e(this),l=s.data(i),c=l.opt,f=e("#mCSB_"+l.idx+"_container");if(t){clearTimeout(f[0].autoUpdate);K(f[0],"autoUpdate")}else n()},Y=function(e,t,n){return Math.round(e/t)*t-n},G=function(t){var n=t.data(i),o=e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");o.each(function(){Z.call(this)})},V=function(t,n,o){function r(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function a(){return[c.callbacks.alwaysTriggerOffsets||_>=w[0]+S,c.callbacks.alwaysTriggerOffsets||_<=-T]}function s(){var e=[h[0].offsetTop,h[0].offsetLeft],n=[y[0].offsetTop,y[0].offsetLeft],i=[h.outerHeight(!1),h.outerWidth(!1)],r=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-r[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-r[1])),direction:o.dir}}var l=t.data(i),c=l.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=e.extend(u,o),d=[o.dur,o.drag?0:o.dur],f=e("#mCSB_"+l.idx),h=e("#mCSB_"+l.idx+"_container"),p=h.parent(),m=c.callbacks.onTotalScrollOffset?$.call(t,c.callbacks.onTotalScrollOffset):[0,0],v=c.callbacks.onTotalScrollBackOffset?$.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];l.trigger=o.trigger;if(0!==p.scrollTop()||0!==p.scrollLeft()){e(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible");p.scrollTop(0).scrollLeft(0)}if("_resetY"===n&&!l.contentReset.y){r("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]);l.contentReset.y=1}if("_resetX"===n&&!l.contentReset.x){r("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]);l.contentReset.x=1}if("_resetY"!==n&&"_resetX"!==n){if((l.contentReset.y||!t[0].mcs)&&l.overflowed[0]){r("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]);l.contentReset.x=null}if((l.contentReset.x||!t[0].mcs)&&l.overflowed[1]){r("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]);l.contentReset.x=null}if(c.snapAmount){var g=c.snapAmount instanceof Array?"x"===o.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;n=Y(n,g,c.snapOffset)}switch(o.dir){case"x":var y=e("#mCSB_"+l.idx+"_dragger_horizontal"),x="left",_=h[0].offsetLeft,w=[f.width()-h.outerWidth(!1),y.parent().width()-y.width()],b=[n,0===n?0:n/l.scrollRatio.x],S=m[1],T=v[1],k=S>0?S/l.scrollRatio.x:0,A=T>0?T/l.scrollRatio.x:0;break;case"y":var y=e("#mCSB_"+l.idx+"_dragger_vertical"),x="top",_=h[0].offsetTop,w=[f.height()-h.outerHeight(!1),y.parent().height()-y.height()],b=[n,0===n?0:n/l.scrollRatio.y],S=m[0],T=v[0],k=S>0?S/l.scrollRatio.y:0,A=T>0?T/l.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=w[1]?b=[w[0],w[1]]:b[0]=-b[0];if(!t[0].mcs){s();r("onInit")&&c.callbacks.onInit.call(t[0])}clearTimeout(h[0].onCompleteTimeout);Q(y[0],x,Math.round(b[1]),d[1],o.scrollEasing);!l.tweenRunning&&(0===_&&b[0]>=0||_===w[0]&&b[0]<=w[0])||Q(h[0],x,Math.round(b[0]),d[0],o.scrollEasing,o.overwrite,{onStart:function(){if(o.callbacks&&o.onStart&&!l.tweenRunning){if(r("onScrollStart")){s();c.callbacks.onScrollStart.call(t[0])}l.tweenRunning=!0;C(y);l.cbOffsets=a()}},onUpdate:function(){if(o.callbacks&&o.onUpdate&&r("whileScrolling")){s();c.callbacks.whileScrolling.call(t[0])}},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){if(r("onScroll")){s();c.callbacks.onScroll.call(t[0])}if(r("onTotalScroll")&&b[1]>=w[1]-k&&l.cbOffsets[0]){s();c.callbacks.onTotalScroll.call(t[0])}if(r("onTotalScrollBack")&&b[1]<=A&&l.cbOffsets[1]){s();c.callbacks.onTotalScrollBack.call(t[0])}l.tweenRunning=!1;h[0].idleTimer=0;C(y,"hide")},e)}}})}},Q=function(e,t,n,i,o,r,a){function s(){if(!w.stop){y||p.call();y=J()-g;l();if(y>=w.time){w.time=y>w.time?y+f-(y-w.time):y+f-1;w.time<y+1&&(w.time=y+1)}w.time<i?w.id=h(s):v.call()}}function l(){if(i>0){w.currVal=d(w.time,x,b,i,o);_[t]=Math.round(w.currVal)+"px"}else _[t]=n+"px";m.call()}function c(){f=1e3/60;w.time=y+f;h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){l();return setTimeout(e,.01)};w.id=h(s)}function u(){if(null!=w.id){window.requestAnimationFrame?window.cancelAnimationFrame(w.id):clearTimeout(w.id);w.id=null}}function d(e,t,n,i,o){switch(o){case"linear":case"mcsLinear":return n*e/i+t;case"mcsLinearOut":e/=i;e--;return n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":e/=i/2;if(e<1)return n/2*e*e+t;e--;return-n/2*(e*(e-2)-1)+t;case"easeInOutStrong":
e/=i/2;if(e<1)return n/2*Math.pow(2,10*(e-1))+t;e--;return n/2*(-Math.pow(2,-10*e)+2)+t;case"easeInOut":case"mcsEaseInOut":e/=i/2;if(e<1)return n/2*e*e*e+t;e-=2;return n/2*(e*e*e+2)+t;case"easeOutSmooth":e/=i;e--;return-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/i)+1)+t;case"easeOut":case"mcsEaseOut":default:var r=(e/=i)*e,a=r*e;return t+n*(.499999999999997*a*r+-2.5*r*r+5.5*a+-6.5*r+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,a=a||{},p=a.onStart||function(){},m=a.onUpdate||function(){},v=a.onComplete||function(){},g=J(),y=0,x=e.offsetTop,_=e.style,w=e._mTween[t];"left"===t&&(x=e.offsetLeft);var b=n-x;w.stop=0;"none"!==r&&u();c()},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var i=t[n];if(e._mTween[i].id){window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id);e._mTween[i].id=null;e._mTween[i].stop=1}}},K=function(e,t){try{delete e[t]}catch(n){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ne=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ie=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},oe=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return!!t&&document[t]};e.fn[n]=function(t){if(d[t])return d[t].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof t||!t)return d.init.apply(this,arguments);e.error("Method "+t+" does not exist")};e[n]=function(t){if(d[t])return d[t].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof t||!t)return d.init.apply(this,arguments);e.error("Method "+t+" does not exist")};e[n].defaults=r;window[n]=!0;e(window).bind("load",function(){e(o)[n]();e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,i,o=e(t),r=o.parents(".mCSB_container");if(r.length){n=r.parent();i=[r[0].offsetTop,r[0].offsetLeft];return i[0]+ie(o)[0]>=0&&i[0]+ie(o)[0]<n.height()-o.outerHeight(!1)&&i[1]+ie(o)[1]>=0&&i[1]+ie(o)[1]<n.width()-o.outerWidth(!1)}},mcsInSight:e.expr[":"].mcsInSight||function(t,n,i){var o,r,a,s,l=e(t),c=l.parents(".mCSB_container"),u="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length){o=[l.outerHeight(!1),l.outerWidth(!1)];a=[c[0].offsetTop+ie(l)[0],c[0].offsetLeft+ie(l)[1]];r=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth];s=[o[0]<r[0]?u[0]:u[1],o[1]<r[1]?u[0]:u[1]];return a[0]-r[0]*s[0][0]<0&&a[0]+o[0]-r[0]*s[0][1]>=0&&a[1]-r[1]*s[1][0]<0&&a[1]+o[1]-r[1]*s[1][1]>=0}},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(i);if(n)return n.overflowed[0]||n.overflowed[1]}})})})});!function(e){"function"==typeof define&&define.amd?define("plugins/scroller/1.0.0/jquery.mousewheel",["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),c=0,d=0,f=0,h=0,p=0,m=0;t=e.event.fix(a);t.type="mousewheel";"detail"in a&&(f=a.detail*-1);"wheelDelta"in a&&(f=a.wheelDelta);"wheelDeltaY"in a&&(f=a.wheelDeltaY);"wheelDeltaX"in a&&(d=a.wheelDeltaX*-1);if("axis"in a&&a.axis===a.HORIZONTAL_AXIS){d=f*-1;f=0}c=0===f?d:f;if("deltaY"in a){f=a.deltaY*-1;c=f}if("deltaX"in a){d=a.deltaX;0===f&&(c=d*-1)}if(0!==f||0!==d){if(1===a.deltaMode){var v=e.data(this,"mousewheel-line-height");c*=v;f*=v;d*=v}else if(2===a.deltaMode){var g=e.data(this,"mousewheel-page-height");c*=g;f*=g;d*=g}h=Math.max(Math.abs(f),Math.abs(d));if(!r||h<r){r=h;i(a,h)&&(r/=40)}if(i(a,h)){c/=40;d/=40;f/=40}c=Math[c>=1?"floor":"ceil"](c/r);d=Math[d>=1?"floor":"ceil"](d/r);f=Math[f>=1?"floor":"ceil"](f/r);if(u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=t.clientX-y.left;m=t.clientY-y.top}t.deltaX=d;t.deltaY=f;t.deltaFactor=r;t.offsetX=p;t.offsetY=m;t.deltaMode=0;s.unshift(t,c,d,f);o&&clearTimeout(o);o=setTimeout(n,200);return(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function i(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,r,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this));e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height");e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();i.length||(i=e("body"));return parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});define("plugins/share/1.0.0/share",["require","exports","module","jquery"],function(e,t,n){"use strict";function i(e,t){var n=this;n.el=o(e);if(0==n.el.length)throw new Error("the params [selector] is require.");var i={viewList:["weixin","qzone","tsina"],"class":"ui-share",shareTxt:"分享",config:{common:{bdStyle:"none"},share:[{bdSize:16}],slide:"",image:"",selectShare:""}};n.options=o.extend({},i,t);n._viewListTips={weixin:"分享到微信",qzone:"分享到QQ空间",tsina:"分享到新浪微博"};n.el.html(n._html());n._init()}var o=e("jquery");i.prototype._init=function(){var e=this;window._bd_share_config=e.options.config;(document.getElementsByTagName("head")[0]||document.body).appendChild(document.createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)};i.prototype._html=function(){for(var e=this,t='<div class="bdsharebuttonbox ui-share"><span class="txt">'+e.options.shareTxt+"</span>",n=0,i=e.options.viewList.length;n<i;n++)t+='<a title="'+(e._viewListTips[e.options.viewList[n]]||"")+'" class="bds_'+e.options.viewList[n]+" iyoyo iyoyo-"+e.options.viewList[n]+'" data-cmd="'+e.options.viewList[n]+'" href="#"></a>';t+="</div>";return t};n.exports=i});define("conf/demo",["require","exports","module","jquery","lib/ui/box/1.0.1/box","lib/ui/slider/3.0.4/slider","lib/plugins/lazyload/1.9.3/lazyload","lib/core/1.0.0/io/request","module/top-search/1.0.0/top-search","module/login-status/1.0.0/login-status","module/fix-bar/1.0.0/fix-bar","module/footer/1.0.0/footer","plugins/scroller/1.0.0/jquery.mCustomScrollbar","plugins/scroller/1.0.0/jquery.mousewheel","plugins/share/1.0.0/share"],function(e,t,n){"use strict";var i=e("jquery"),o=e("lib/ui/box/1.0.1/box"),r=e("lib/ui/slider/3.0.4/slider"),a=e("lib/plugins/lazyload/1.9.3/lazyload"),s=e("lib/core/1.0.0/io/request"),l=e("module/top-search/1.0.0/top-search"),c=e("module/login-status/1.0.0/login-status"),u=e("module/fix-bar/1.0.0/fix-bar"),d=e("module/footer/1.0.0/footer");new l,new c,new u,new d;e("plugins/scroller/1.0.0/jquery.mCustomScrollbar");e("plugins/scroller/1.0.0/jquery.mousewheel");i("#jScroller").mCustomScrollbar({theme:"minimal-dark"});var f=e("plugins/share/1.0.0/share");new f("#jShare"),new r("#jSlider",{lazyLoad:{loadingClass:"img-error"},play:{auto:!0,interval:4e3,swap:!0,pauseOnHover:!0,restartDelay:2500},callback:{start:function(e){},loaded:function(){}}}),new a(i("#jImgList .jImg"),{loadingClass:"img-error",mouseWheel:!0,effect:"fadeIn",snap:!0});i("#jFixNav").find(".more").click(function(){i("#jFixNav").hasClass("ui-fix-nav-show")?i("#jFixNav").removeClass("ui-fix-nav-show"):i("#jFixNav").addClass("ui-fix-nav-show")});o.tips("ddd",{xtype:"ok",duration:0});var h={loadUrl:function(){o.loadUrl("/m-service-market/source/api/demo/publish-require.json",{data:{t:+new Date},content:"加载中",success:function(e){console.log(e);alert(JSON.stringify(e))}})},loading:function(){var e=o.loading("加载中,3秒后关闭");setTimeout(function(){e.hide()},3e3)},tips:function(){o.tips("ok! it's a tips",null,1e3)},alert:function(){o.alert("ok! it's a tips")},confirm:function(){o.confirm("Are you sure?",function(){o.tips("ok")},function(){alert("cancel")},this)},bubble:function(){o.bubble("我是气泡，可以任意调整方向",{align:"t"},this)},warn:function(){o.warn("Opps!")},sendPost:function(){s.get("/m-service-market/source/api/demo/demo.json",{foo:"foo text"},function(e){console.log(e.msg+" ( code: "+e.error+")")},this)}};i("#jBox .btn").each(function(){var e=i(this),t=e.attr("data-type"),n=h[t];n&&e.on("click",n)})});