/*! Based on work by Simon Willison: http://gist.github.com/292562 */

/*! Weakdata - https://gist.github.com/b84827b7af6da78acb67ca75839cf1c6 by @allex | MIT License */

/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/

define("lib/core/1.0.0/utils/util",["require","exports","module"],function(t,e,n){"use strict";function i(t){return"object"==typeof t&&null!==t}function o(){}function r(t,e){for(var n=t.length,i=-1;++i<n;)e(t[i],i)}function a(t,e){for(var n in t)p.call(t,n)&&e(t[n],n,t)}function s(t,e){return t&&t.forEach?t.forEach(e):void(h(t)?r(t,e):a(t,e))}function u(t,e){for(var n=-1,i=t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function l(t,e){var n=[];return s(t,function(t,i,o){n.push(e(t,i,o))}),n}function c(t,e){if(!e||!i(e))return t;for(var n=m(e),o=n.length;o--;)t[n[o]]=e[n[o]];return t}function f(t){"?"===t.charAt(0)&&(t=t.substr(1));for(var e,n={},i=t.split("&"),o=-1,r=i.length;++o<r;)e=i[o].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}var d=new Function("return this")(),p=Object.prototype.hasOwnProperty,h=Array.isArray||function(t){return t&&t instanceof Array},v=function(){var t=(+new Date).toString(36),e=-1;return function(n){return(n||"")+t+ ++e}}(),m=Object.keys||function(t){var e=[];return a(t,function(t,n){e.push(n)}),e},g="function"==typeof Object.create?function(t,e){t.__super__=e.prototype,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(){function t(t){this.constructor=t}return function(e,n){e.__super__=n.prototype,t.prototype=n.prototype,e.prototype=new t(e)}}(),y=d.console||(d.console={});r(["log","error","trace","warn","info"],function(t){y[t]||(y[t]=o)}),e.extend=function(t,e){for(var n=[].slice.call(arguments,1),i=n.length,o=-1;++o<i;)c(t,n[o]);return t},e.inherits=function(t,e,n){g(t,e),n&&c(t.prototype,n)},e.impls=function(t,n){return n="function"==typeof n?n.prototype:n,e.mix(t.prototype,n),t},e.parseQuery=f,e.parseParams=f,e.each=s,e.map=function(t,e){var n=h(t)?u:l;return n(t,e)},e.filter=function(t,e){var n,i,o=h(t)?(n=r,i=function(t,e){o.push(e)},[]):(n=a,i=function(t,e){o[t]=e},{});return n(t,function(t,n){e(t,n)&&i(n,t)}),o},e.mix=function t(e,n,i,o,r){for(var a in n)n.hasOwnProperty(a)&&(n[a]&&e[a]&&i&&"object"==typeof n[a]?t(e[a],n[a],i,o,r):(void 0===e[a]||o)&&(r&&!r(e[a],n[a])||(e[a]=n[a])));return e},e.guid=v,e.setImmediate=function(){var t=d.document,e=d.postMessage,n=d.setImmediate;return n?n:"onreadystatechange"in t.createElement("script")?function(e){function n(){i.onreadystatechange=null,i.parentNode.removeChild(i),e()}var i=t.createElement("script");i.onreadystatechange=n,t.documentElement.appendChild(i)}:e?function(t){function n(e){e.data===i&&(d.removeEventListener("message",n,!0),t())}var i=v();d.addEventListener("message",n,!0),e(i,"*")}:function(t){d.setTimeout(t,0)}}(),e.noop=o,e.throttle=function(t,e){if(e=e?e:150,e===-1)return function(){t.apply(this,arguments)};var n;return function(){var i=+new Date;(!n||i-n>e)&&(n=i,t.apply(this,arguments))}},e.debounce=function(t,e,n,i){var o;return function(){var r=i||this,a=arguments,s=function(){o=null,n||t.apply(r,a)},u=n&&!o;clearTimeout(o),o=setTimeout(s,e),u&&t.apply(r,a)}},e.deprecate=function(t,e){function n(){return i||(i=!0),t.apply(this,arguments)}if(d.noDeprecation===!0)return t;var i=!1;return n}}),define("lib/core/1.0.0/dom/dataset",["require","exports","module","jquery"],function(t,e,n){"use strict";function i(t){return t.replace(s,"ms-").replace(u,l)}function o(t){try{return"true"===t||"false"!==t&&("null"===t?null:+t+""===t?+t:c.test(t)?a.parseJSON(t):t)}catch(t){}}function r(t,e,n){var i;return void 0===n&&1===t.nodeType&&(i="data-"+e.replace(f,"-$&").toLowerCase(),n=t.getAttribute(i),"string"!=typeof n&&(n=void 0)),n}var a=(window.document,t("jquery")),s=/^-ms-/,u=/-([\da-z])/gi,l=function(t,e){return e.toUpperCase()},c=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,f=/[A-Z]/g,d=function(t,e,n){if(!t||1!==t.nodeType)throw new TypeError("dataset(): Not a valid DOM element.");var a,s,u,l;if(1===arguments.length){if(u=t.dataset){l={};for(s in u)u.hasOwnProperty(s)&&(l[s]=o(u[s]));return l}for(u=t.attributes,a=u.length,l={};a--;)u[a]&&(s=u[a].name,0===s.indexOf("data-")&&(s=i(s.slice(5)),l[s]=o(r(t,s))));return l}};n.exports=d}),define("lib/core/1.0.0/dom/build",["require","exports","module","jquery","./dataset"],function(t,e,n){"use strict";function i(t,e,n,i){i?t[e]||(t[e]=n):t[e]?t[e]=t[e].add(n):t[e]=r(n)}var o=window.document,r=t("jquery"),a=function(t,e,n){var a,s,u,l,c,f=function(t){if(n)for(var o in n)u[o]=r(n[o].toString(),t);else{u={},l=r("[node-type]",t);for(var a,s=-1,c=l.length;++s<c;)a=l[s],o=a.getAttribute("node-type"),i(u,o,a,e)}},d=function(t){var n,o=u[t];return o&&0!==o.length||(n=r('[node-type="'+t+'"]',a),n.length&&i(u,t,n,e),o=u[t]),o};if(void 0===e&&(e=!0),a=t,"string"==typeof t&&"<"===t.charAt(0))for(a=o.createElement("div"),a.innerHTML=t,s=o.createDocumentFragment();c=a.firsChild;)s.appendChild(c);else a=r(t),s=a[0];return f(a),{get:d,box:s,list:u}};e.build=a,e.parse=function(t,e,n){if("object"==typeof t&&t.length>0&&(t=t[0]),!t||1!==t.nodeType)throw TypeError("parse error, not a valid html element");return"boolean"==typeof n&&(e=n,n=null),a(t,e,n).list},e.dataset=t("./dataset")}),define("module/top-search/1.0.0/top-search",["require","exports","module","jquery","lib/core/1.0.0/utils/util","lib/core/1.0.0/dom/build"],function(t,e,n){"use strict";function i(t){var e=this,n={activeClass:"focus",selector:"#jTopSearch",url:$PAGE_DATA&&$PAGE_DATA.topSearchUrl||"",data:{},alias:"key"};if(e.options=o.extend(!0,{},n,t),""==e.options.url)throw new Error("the params options.url is required");e.el=o(e.options.selector);var i=r.build(e.el[0],!1);e.ipt=i.get("ipt"),e.btn=i.get("btn"),e.lbl=i.get("lbl"),e._init(),e._initEvent()}var o=t("jquery"),r=(t("lib/core/1.0.0/utils/util"),t("lib/core/1.0.0/dom/build"));i.prototype._initEvent=function(){var t=this;t.ipt.on("focus",function(){t.focus()}),t.ipt.on("blur",function(){0==t.getValue().length&&t.blur()}),t.ipt.on("keydown",function(e){13===e.keyCode&&t.search()}),t.btn.on("click",function(){t.search()})},i.prototype._init=function(){var t=this,e=o.trim(t.ipt.val()),n=t.ipt.attr("data-id");e.length>0&&t.focus(),n&&(t.options.alias=n),t.options.data&&(t.options.data[t.options.alias]=o.trim(t.ipt.val()))},i.prototype.focus=function(){var t=this;t.el.addClass(t.options.activeClass)},i.prototype.blur=function(){var t=this;t.el.removeClass(t.options.activeClass)},i.prototype.getValue=function(){var t=this;return o.trim(t.ipt.val())},i.prototype.search=function(){var t=this;t.options.data[t.options.alias]=t.getValue(),window.location.href=t.options.url+"?"+t._getUrlString()},i.prototype._getUrlString=function(){var t=this,e="",n=0;for(var i in t.options.data)e+=0==n?i+"="+encodeURIComponent(t.options.data[i]):"&"+i+"="+encodeURIComponent(t.options.data[i]),n++;return e},n.exports=i}),define("lib/core/1.0.0/io/cookie",["require","exports","module"],function(t,e,n){"use strict";var i=window.document,o=function(t){if("string"!=typeof t)throw"trim need a string as parameter";for(var e=t.length,n=0,i=e-1,o=/(\u3000|\s|\t|\u00A0)/;n<e&&o.test(t.charAt(n));)++n;for(;i>=0&&o.test(t.charAt(i));)--i;return t.substring(n,i+1)},r=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},a=function(t,e,n){if(n=n||{},void 0!==e){if(n=r(n),null===e&&(e="",n.expires=-1),"number"==typeof n.expires){var a=n.expires,s=n.expires=new Date;s.setTime(s.getTime()+864e5*a)}var u=function(t){try{return n.raw?t:encodeURIComponent(t)}catch(t){}return t};return i.cookie=[u(t),"=",u(e),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var e=null,l=i.cookie,c=function(t){return n.raw?t:decodeURIComponent(t)},f=l?l.split("; "):[],d=-1,p=f.length,h=t.length+1;++d<p;)if(l=o(f[d]),l.substring(0,h)===t+"="){e=c(l.substring(h));break}return e};a.set=function(t,e,n){return a(t,e,n)},a.get=function(t){return a(t)},n.exports=a}),define("module/login-status/1.0.0/login",["require","exports","module","lib/core/1.0.0/io/cookie"],function(t,e,n){"use strict";var i=t("lib/core/1.0.0/io/cookie"),o="_nick",r=$PAGE_DATA&&$PAGE_DATA.LOGIN_URL||"";e.getNick=function(){return i(o)},e.isLogin=function(){return!!i(o)},e.login=function(t){r&&(t=t?"?returnUrl="+t:"",window.location.href=r+t)}}),define("module/login-status/1.0.0/login-status",["require","exports","module","jquery","lib/core/1.0.0/dom/build","./login"],function(t,e,n){"use strict";function i(t){var e=this,n={selector:"#jLoginStatus",userCenterUrl:$PAGE_DATA&&$PAGE_DATA.userCenterUrl||"javascript:;",loginOutUrl:$PAGE_DATA&&$PAGE_DATA.loginOutUrl||"javascript:;",menuList:[{title:"编辑资料",url:$PAGE_DATA&&$PAGE_DATA.editUserInfoUrl||"javascript:;"},{title:"学习中心",url:$PAGE_DATA&&$PAGE_DATA.learningCenterUrl||"javascript:;"}]};e.options=o.extend(!0,{},n,t),e.el=o(e.options.selector),e._init()}var o=t("jquery"),r=t("lib/core/1.0.0/dom/build"),a=t("./login");i.prototype._init=function(){var t=this,e=a.getNick();e&&(t.el.html(t._getLoginedHtml(e)),t._initEvent())},i.prototype._initEvent=function(){var t=this,e=!1,n=r.build(t.el[0],!1),i=n.get("userName"),o=n.get("tipsMenu");i.on("mouseenter",function(){e=!0,o.stop().fadeIn(500,function(){o.addClass("active")})}),i.on("mouseleave",function(){e=!1,setTimeout(function(){e||o.stop().fadeOut(500,function(){o.removeClass("active")})},200)}),o.on("mouseenter",function(){e=!0}),o.on("mouseleave",function(){e=!1,o.removeClass("active")})},i.prototype._getLoginedHtml=function(t){var e=this,n=e.options,i=n.menuList,o="";o+='<ul class="logined clearfix" node-type="logined">',o+='    <li class="item">',o+="        <span>您好，</span>",o+="    </li>",o+='    <li class="item tips-menu-box">',o+='        <a href="'+n.userCenterUrl+'" class="user-name txt-overflow" node-type="userName">'+t+"</a>",o+='        <div class="tips-menu" node-type="tipsMenu">',o+='            <div class="arrow"><i></i><b></b></div>',o+='            <ul class="tips-menu-list">';for(var r=0,a=i.length;r<a;r++)o+='            <li class="tips-menu-item"><a href="'+i[r].url+'">'+i[r].title+"</a></li>";return o+="            </ul>",o+="        </div>",o+="    </li>",o+='    <li class="item">',o+='        <a href="'+n.loginOutUrl+'" class="btn">退出</a>',o+="    </li>",o+="</ul>"},n.exports=i}),define("module/fix-bar/1.0.0/fix-bar",["require","exports","module","jquery","lib/core/1.0.0/utils/util","lib/core/1.0.0/dom/build"],function(t,e,n){"use strict";function i(t){var e=this,n={onlineServiceUrl:""};e.options=o.extend(!0,{},n,t),e._init(),e._initEvent()}var o=t("jquery");t("lib/core/1.0.0/utils/util"),t("lib/core/1.0.0/dom/build");i.prototype._init=function(){var t=this;t.el=o(t._getTemplete()),o(document.body).append(t.el),t.height=t.el.height(),t.resize()},i.prototype._initEvent=function(){var t=this;o(window).on("resize",function(){t.resize()})},i.prototype.resize=function(){var t=this,e=o(window).height(),n=(e-t.height)/2;n>=0?(t.el.css({top:n}),t.el.addClass("active")):t.el.removeClass("active")},i.prototype._getTemplete=function(){var t=this,e="";return e+='<div class="ui-fix-bar">',e+='    <ul class="list clearfix" node-type="list">',e+='        <li class="jItem item item-service" node-id="service">',e+='            <a href="'+t.options.onlineServiceUrl+'">',e+='                <i class="iyoyo iyoyo-service"></i>',e+="                <span>在线客服</span>",e+="            </a>",e+="        </li>",e+="    </ul>",e+="</div>"},n.exports=i}),function(t,e,n){"function"==typeof define&&define.amd?define("lib/plugins/lazyload/1.9.3/lazyload",["jquery"],n):t[e]=n(t.jQuery||t.Zepto)}(this,"Lazyload",function(t,e){"use strict";if(!t)throw"Error: jquery api not implements.";var n=t.each,i=function(t,e){if(t instanceof Array&&t.filter)return t.filter(e);for(var n=[],i=-1,o=t.length;++i<o;)e(t[i],i)&&n.push(t[i]);return n},o=function(t,e,n,i){var o;return function(){var r=i||this,a=arguments,s=function(){o=null,n||t.apply(r,a)},u=n&&!o;clearTimeout(o),o=setTimeout(s,e),u&&t.apply(r,a)}},r=function(e,n){e=e||{};var i=t(e),o=Array.prototype.slice;return n=n||e.name,t.each({on:"on",un:"off",once:"one",emit:"trigger"},function(t,r){e[t]=function(e){var a=o.call(arguments,0),s=a[1];return n&&!~e.indexOf(".")&&(a[0]=e+"."+n),"function"==typeof s&&("on"===t||"once"===t?a[1]=s.__||(s.__=function(t){return t.preventDefault(),s.apply(this,o.call(arguments,1))}):"un"===t&&(a[1]=s.__)),i[r].apply(i,a)}}),e},a=window,s=t(a),u=a.Image,l=/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion),c="__lazy_status__",f=0,d=1,p=2,h=function(t){return t[c]===e},v=function(){var t={},e=function(e,n){"function"==typeof n&&(t[e]=n)},n=function(e){return t[e]};return{define:e,get:n}}();v.define("image",function(n,i,o,r){if(!i)return void r("error");var a=new u,s=function(){a.onload=a.onerror=null,a=i=n=r=s=e};a.onload=function(){var e=t(n),a=o.effect;"function"!=typeof e[a]&&(a="show"),e.hide(),"IMG"===n.nodeName.toUpperCase()?e.attr("src",i):e.css("background-image",'url("'+i+'")'),e[a](o.effectSpeed),r(null,"load"),s()},a.onerror=function(t){r(t),s()},a.src=i}),v.define("html",function(t,e,n,i){i()});var m=function(e,u){u=u||{},e=t(e);var m=this,_={type:"image",threshold:50,failureLimit:0,event:"scroll",effect:"show",container:a,dataAttribute:"src",sourceMaker:null,skipInvisible:!0,appear:null,load:null,loadingClass:"",placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};r(m);var w=u.type||_.type,A=v.get(w);if("function"!=typeof A)throw"Error, cannot found the specific type loader (type: `"+w+"`)";"html"===w&&(_.placeholder=""),u&&t.extend(_,u);var j=_.container,T=_.event,k=0===T.indexOf("scroll"),$=j&&j!==a?t(j):s,C=function(e){var i=m._list;if(i.length>0){var o=0;n(i.slice(0),function(e,n){var i=t(n);if(!_.skipInvisible||i.is(":visible"))if(b(n,_)||x(n,_));else if(g(n,_)||y(n,_)){if(++o>_.failureLimit)return!1}else i.trigger("appear"),o=0})}else m.reset()},E=function(){m._list=i(m._list,function(t){return!t[c]})},q=function(){var e=this,n=t(e),i=n.attr("data-"+_.dataAttribute),o=_.sourceMaker,r=_.appear,a=_.loadingClass,s=e[c];s===f?(e[c]=d,a&&n.addClass(a),o&&(i=o(i,e)),r&&r.apply(m,[e,i]),A.call(m,e,i,_,function(t,o){if(!m._destroyed){if(a&&n.removeClass(a),t)setTimeout(function(){e[c]=f,m.emit("lazyItemError",e,i,t),e=null},300);else{e[c]=p,E(),m.emit("lazyItemReady",e,i,o);var r=_.load;r&&r.apply(m,[e,i,o]),e=null}n=null}})):s===p&&(E(),m.emit("lazyItemReady",e,i))},L=function(){this[c]||t(this).trigger("appear")},z=function(e){var n=t(e);e[c]=f;var i=_.placeholder;if(i)if(n.is("img")){var o=n.attr("src");o||n.attr("src",i)}else"image"===m._.type||n.children()[0]||n.html(i);n.on("appear",q),k||n.on(T,L),m._list.push(e)},I=function(t){t=i(t||[],h),t.length&&(n(t,function(t,e){z(e)}),m._inited||D(m))},D=function(e){if(!e._inited){var i=o(C,30);if(e._inited=!0,k&&$.on(T,i),s.on("resize",i),l){var r=function(i){i.originalEvent&&i.originalEvent.persisted&&n(e._list,function(e,n){t(n).trigger("appear")})};s.on("pageshow",r),e.once("reset",function(){s.off("pageshow",r)})}e.once("reset",function(){n(e._list,function(t,e){P(e)}),k&&$.off(T,i),s.off("resize",i)}),t(document).ready(C)}},P=function(e){var n=t(e);n.off("appear",q),k||n.off(T,L)};m.on("lazyItemReady",function(t){P(t)}),m.once("destroy",function(){I=null,C=null,E=null,q=null,L=null}),m._=_,m._list=[],m.add=function(e){var n=t(e);n.length>0&&I(n)},m.update=C,I(e)};m.prototype={constructor:m,update:function(){},peek:function(){var t=this._list,n=t.length;return n>0?t[0]:e},reset:function(){return this._inited?(this._inited=!1,this.emit("reset"),this._list.length=0,this):this},destroy:function(){this._destroyed||(this._destroyed=!0,this.reset().emit("destroy"),this.un(),this._=null)}},m.define=function(t,e){return v.define(t,e)};var g=function(e,n){var i,o=n.container;return i=o&&o!==a?t(o).offset().top+t(o).height():(a.innerHeight?a.innerHeight:s.height())+s.scrollTop(),i<=t(e).offset().top-n.threshold},y=function(e,n){var i,o=n.container;return i=o&&o!==a?t(o).offset().left+t(o).width():s.width()+s.scrollLeft(),i<=t(e).offset().left-n.threshold},b=function(e,n){var i,o=n.container;return i=o&&o!==a?t(o).offset().top:s.scrollTop(),i>=t(e).offset().top+n.threshold+t(e).height()},x=function(e,n){var i,o=n.container;return i=o&&o!==a?t(o).offset().left:s.scrollLeft(),i>=t(e).offset().left+n.threshold+t(e).width()},_=function(t,e){return!(y(t,e)||x(t,e)||g(t,e)||b(t,e))};return m.belowthefold=g,m.rightoffold=y,m.abovethetop=b,m.leftofbegin=x,m.inviewport=_,m}),define("module/footer/1.0.0/footer",["require","exports","module","jquery","lib/plugins/lazyload/1.9.3/lazyload","lib/core/1.0.0/dom/build"],function(t,e,n){"use strict";function i(t){var e=this,n={selector:"#jFooter"};if(e.options=o.extend(!0,{},n,t),e.el=o(e.options.selector),0==e.el.length)throw new Error("the params [optins.selector] is required or the [el] is not exist.");e._init()}var o=t("jquery"),r=t("lib/plugins/lazyload/1.9.3/lazyload"),a=t("lib/core/1.0.0/dom/build");i.prototype._init=function(){var t=this,e=a.build(t.el[0],!1),n=e.get("footerImg");new r(n)},n.exports=i}),define("lib/ui/box/1.0.1/drag",["require","jquery"],function(t){"use strict";var e=t("jquery"),n=e(window),i=e(document),o="createTouch"in document,r=document.documentElement,a=!("minWidth"in r.style),s=!a&&"onlosecapture"in r,u="setCapture"in r,l=e.noop,c={start:o?"touchstart":"mousedown",over:o?"touchmove":"mousemove",end:o?"touchend":"mouseup"},f=o?function(t){return t.touches||(t=t.originalEvent.touches.item(0)),t}:function(t){return t},d=function(){this.start=e.proxy(this.start,this),this.over=e.proxy(this.over,this),this.end=e.proxy(this.end,this),this.onstart=this.onover=this.onend=l};return d.types=c,d.prototype={start:function(t){return t=this.startFix(t),i.on(c.over,this.over).on(c.end,this.end),this.onstart(t),!1},over:function(t){return t=this.overFix(t),this.onover(t),!1},end:function(t){return t=this.endFix(t),i.off(c.over,this.over).off(c.end,this.end),this.onend(t),!1},startFix:function(t){return t=f(t),this.target=e(t.target),this.selectstart=function(){return!1},i.on("selectstart",this.selectstart).on("dblclick",this.end),s?this.target.on("losecapture",this.end):n.on("blur",this.end),u&&this.target[0].setCapture(),t},overFix:function(t){return t=f(t)},endFix:function(t){return t=f(t),i.off("selectstart",this.selectstart).off("dblclick",this.end),s?this.target.off("losecapture",this.end):n.off("blur",this.end),u&&this.target[0].releaseCapture(),t}},d.create=function(t,o,r){r=e.extend({hook:null,onstart:l,onover:l,onend:l},r);var a,s,u,c,f=e(t),p=r.hook?e(r.hook):f,h=new d,v=d.types.start,m=t.className.replace(/^\s|\s.*/g,"")+"-drag-start",g={off:function(){p.off(v,h.start)}};return h.onstart=function(e){var o="fixed"===f.css("position"),l=i.scrollLeft(),d=i.scrollTop(),p=f.width(),h=f.height();a=0,s=0,u=o?n.width()-p+a:i.width()-p,c=o?n.height()-h+s:i.height()-h;var v=f.offset(),g=this.startLeft=o?v.left-l:v.left,y=this.startTop=o?v.top-d:v.top;this.clientX=e.clientX,this.clientY=e.clientY,f.addClass(m),r.onstart.call(t,e,g,y)},h.onover=function(e){var n=e.clientX-this.clientX+this.startLeft,i=e.clientY-this.clientY+this.startTop,o=f[0].style;n=Math.max(a,Math.min(u,n)),i=Math.max(s,Math.min(c,i)),o.left=n+"px",o.top=i+"px",r.onover.call(t,e,n,i)},h.onend=function(e){var n=f.position(),i=n.left,o=n.top;f.removeClass(m),r.onend.call(t,e,i,o)},h.off=function(){p.off(v,h.start)},o?h.start(o):p.on(v,h.start),g},d}),function(t,e){if("function"==typeof define&&define.amd)define("lib/core/1.0.0/event/emitter",e);else if("undefined"!=typeof module)e(require,module.exports,module);else{var n={exports:{}};e(null,n.exports,n),t.EventEmitter=n.exports}}(this,function(t,e,n){"use strict";function i(){}function o(t,e,n,i){var o=!0;if(e)for(var r,a,s,u=-1,l={type:t,timeStamp:c()};r=e[++u];){a=r[v],s=r[m]||i;try{o=r[g]===h?a.call(s,l,n)!==!1&&o:a.apply(s,n)!==!1&&o}catch(t){setTimeout(function(){console.error(t)},1)}}return o}function r(t){var e,n=d(this);return n?(e=n[t],e.length):0}function a(t){return"[object Function]"===Object.prototype.toString.call(t)}function s(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function u(t,e){t.forEach?t.forEach(e):function(t){for(var n=-1,i=t.length;++n<i;)e(t[n],n)}(t)}var l=/\s+/,c=Date.now||function(){return+new Date},f=function(){return c()*Math.random()&65535}(),d=function(){var t,e,n;return"function"==typeof WeakMap&&(WeakMap.prototype||0).set?(t=new WeakMap,function(e,n){var i=t.get(e);return null===n?void 0!==i&&t.delete(e):!i&&n?(t.set(e,i={}),i):i}):(e=c(),n="__$widΦ"+e.toString(36),t={},function(i,o){if(!i||"object"!=typeof i)throw TypeError("Invalid value used as weak map key");var r;return null===o?i[n]&&(delete t[i[n]],delete i[n]):(r=i[n]||o&&(r=++e,t[r]={},i[n]=r),r&&t[r])})}(),p=1,h=2,v=0,m=1,g=2,y=function(t,e,n){var i=[];return i[v]=t,i[m]=e,i[g]=n,i},b=i.prototype;b.addListener=function(t,e,n,i){var o,r,a,s=p;if(e&&"object"==typeof e&&(n=e,e=n.handleEvent,s=h),!e)return this;for(o=d(this,1),t=t.split(l);r=t.shift();)a=!i&&o[r]||(o[r]=[]),a.push(y(e,n,s));return this},b.on=b.addListener,b.once=function(t,e,n){var i=!1,o=function(){this.removeListener(t,o),i||(i=!0,e.apply(n||this,arguments))};return o.guid=e.guid||(e.guid=f++),this.on(t,o)},b.removeListener=function(t,e,n){var i,o,r,a,u,c;if(e&&"object"==typeof e&&(n=e,e=n.handleEvent),!(i=d(this)))return this;if(!(t||e||n))return s(i,function(t,e){delete i[e]}),d(this,null),this;for(t=t?t.split(l):x(i);o=t.shift();)if(r=i[o])if(e||n)for(a=r.length;--a>=0;)u=r[a],c=u[v],e&&c!==e&&(void 0===c.guid||c.guid!==e.guid)||n&&u[m]!==n||r.splice(a,1);else delete i[o];return this},b.un=b.removeListener,b.removeAllListeners=function(t){return this.removeListener(t)},b.emit=function(t){var e,n,i,r,a,s,u=[],c=!0;if(!(e=d(this)))return this;for(t=t.split(l),a=1,s=arguments.length;a<s;a++)u[a-1]=arguments[a];for(;n=t.shift();)(i=e.all)&&(i=i.slice()),(r=e[n])&&(r=r.slice()),"all"!==n&&(c=o(n,r,u,this)&&c),c=o(n,i,[n].concat(u),this)&&c;return c},i.applyTo=function(t){function e(e,i){t[e]=function(){var o=n[e].apply(i||t,Array.prototype.slice.call(arguments));return o===i?this:o}}var n=b,i=x(n);a(t)?u(i,function(e){t.prototype[e]=n[e]}):u(i,function(t){e(t)})},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):r.call(t,e)},b.listenerCount=r;var x=Object.keys||function(t){var e=[];return s(t,function(t,n){e.push(n)}),e};n.exports=i}),define("lib/core/1.0.0/dom/delegator",["require","exports","module","jquery","../event/emitter"],function(t,e,n){"use strict";function i(t,e){var n,i,r,a=e.currentTarget,s=o(a),u=(e.handleObj||0).origType||e.type;if(!e.isPropagationStopped())return!s.attr("disabled")&&(n=s.attr("action-type"))&&(i=s.attr("action-data"),e.action=n,e.data=i,r=t.e.emit(u+l+n,e,a),e.actionValue=r,r===!1&&(e.preventDefault(),e.stopPropagation())),t.opts.onDelegate(e),r}var o=t("jquery"),r=t("../event/emitter"),a=/\S+/g,s=-1,u=(+new Date).toString(36),l="/",c=function(){return u+ ++s},f=function(t,e){var n=t.guid||(t.guid=c()),i=function(n,i){return t.call(e||i,n)};return i.guid=n,i},d=function(){},p=function(t,e){return"function"==typeof t?t:e},h=function(t,e){e=e||{},"string"==typeof t&&(t=o(t)[0]);var n={},s={},u=new r,c=e.context,h={o:n,opts:e,e:u},v=function(t){return i(h,t)};return e.onDelegate=p(e.onDelegate,d),n.on=function(e,n,i){if("function"==typeof n&&(i=n,n=e,e="click"),"function"!=typeof i)throw Error("The delegate handler should be a valid function");n=(n||"").match(a)||[];for(var r=n.length;r--;)s[e]||(s[e]=1,o(t).on(e,"[action-type]",v)),u.on(e+l+n[r],f(i,c));return this},n.un=function(e,n,i){"function"!=typeof n&&n||(i=n,n=e,e="click"),n=(n||"").match(a)||[];var r,s=n.length;for(o(t);s--;)r=e+l+n[s],u.un(r,i);return this},n.fire=function(e,n){n||(n=e,e="click");var i=o('[action-type="'+n+'"]',t)[0]||document,r=new o.Event(e);r.currentTarget=r.target=i,u.emit(e+l+n,r,i)},n.destroy=function(){var i=o(t);o.each(s,function(t,e){delete s[t],i.off(t,"[action-type]",v)}),u.un();for(var r in n)delete n[r];u=void 0,e=void 0,s=i=t=void 0,v=null},n};n.exports=h}),define("lib/core/1.0.0/utils/css",["require","exports","module","jquery","./util"],function(t,e,n){"use strict";function i(t){return l("<"+t+"/>")[0]}function o(t,e,n){t.insertRule?t.insertRule(e+" {"+n+"}",0):t.addRule(e,n,1)}function r(){var t,e,n,i,o,a="";for(t=document.body||document.documentElement,n=t.style,i="Transition",o=["Moz","Webkit","Khtml","O","ms"],e=0;e<o.length;){if(void 0!==n[o[e]+i]){a=o[e];break}e++}return r=function(){return a},a}function a(){var t=r();return t?"-v-".replace("v",t.toLowerCase()):""}function s(t){return"number"==typeof t?t:{fast:200,normal:500,slow:1e3}[t]||500}function u(t,e,n,i,o){var r,a,u=l(t),c=arguments,o="boolean"==typeof c[c.length-1]&&c[c.length-1],h=!1,v=function(){m()},m=function(t){h||g(!0)},g=function(t){h||(h=!0,m=f,u.off(y,v),r&&(clearTimeout(r),r=null),u.removeClass(a),t&&i(),u=null)};return"function"==typeof n&&(i=n,n=void 0),i=i||f,p?(n=n||"normal",e=e||"shake",a=["ui-animated","ui-speed-"+n,"ui-ani-"+e].join(" "),u.on(y,v),r=setTimeout(v,s(n)+100),o===!0?d(function(){u.addClass(a)}):u.addClass(a)):d(function(){i&&i()}),{stop:function(){return g.apply(null,arguments),this}}}var l=t("jquery"),c=t("./util"),f=(c.each,c.noop),d=c.setImmediate,p=a(),h=/\-v\-/g,v=document.getElementsByTagName("head")[0].appendChild(i("style")),m=v.sheet||v.styleSheet,g={".ui-animated":"-v-animation-fill-mode: both;",".ui-animated.ui-speed-normal":"-v-animation-duration: 0.5s;",".ui-animated.ui-speed-fast":"-v-animation-duration: 0.2s;",".ui-animated.ui-speed-slow":"-v-animation-duration: 1s;"},y={"-webkit-":"webkitAnimationEnd","-moz-":"animationend","-o-":"OAnimationEnd","-ms-":"msAnimationEnd","":"animationend"}[p];c.each(g,function(t,e){t&&o(m,e,t.replace(h,p))}),e.effect=u,e.getVendorPrefix=r}),define("lib/ui/box/1.0.1/popup",["require","exports","module","jquery","../../../core/1.0.0/utils/util","../../../core/1.0.0/utils/css","../../../core/1.0.0/event/emitter"],function(t,e,n){"use strict";function i(t){var e=this,n={autofocus:!0,fixed:!1,align:"bl",className:"",clickBlankToHide:!1,appendTo:"body",autoRelease:!1,html:"",modal:!1,showWithAni:"bounceIn:fast",hideWithAni:"bounceOut:fast"};e._=t=x(n,t),t.fixed=!!t.fixed&&k();var r=o('<div class="'+v+'" id="'+(t.id||b())+'" />').css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(t.html),a=o("<div />");if(e._popup=r,e._mask=e._shadow=a,e.node=r[0],e.mask=a[0],e.on("render",function(t){var n,o=t.className,a=e._mask,s=t.zIndex;r.html()||r.html(t.html),o&&r.addClass(o),r.css("position",t.fixed?"fixed":"absolute"),s&&r.css("zIndex",s),t.modal&&(r.addClass(v+"-modal"),n={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:s||i.zIndex,backgroundColor:"#000",opacity:.3},k()||x(n,{position:"absolute",width:c.width()+"px",height:f.height()+"px"}),a.attr("tabIndex",0).on("focus",w(e.focus,e)),e._shadow=a.clone(!0),a.css(n).addClass(v+"-mask"))}),e.on("beforeShow",function(t){var n=e.anchor,i=e._dirClass;!n&&i&&(r.removeClass(i),delete e._dirClass)}),e.on("show",function(t){e.resize(),t.modal&&(e._mask.insertBefore(r).css("display","block"),e._shadow.insertAfter(r)),t.autofocus&&e.focus()}),e.on("hide",function(t){e._mask.remove(),e._shadow.remove(),e.blur()}),e.once("destroy",function(){r.off(),r=null,e._mask.off(),e._shadow.off()}),!h){var s=w(e.resize,e);e.on("render",function(){c.on("resize",s)}),e.on("destroy",function(){c.off("resize",s)})}e.destroyed=!1,e.initialized=!0}var o=t("jquery"),r=t("../../../core/1.0.0/utils/util"),a=t("../../../core/1.0.0/utils/css"),s=t("../../../core/1.0.0/event/emitter"),u=window,l=u.document,c=o(u),f=o(l),d=l.documentElement,p=/\S+/g,h=!("minWidth"in d.style),v="ui-layer",m=u.Math,g=m.max,y=m.ceil,b=r.guid,x=r.extend,_=r.each,w=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},A=r.setImmediate,j=function(t){return u.parseInt(t,10)||0},T=function(t){return t&&1===t.nodeType},k=function(){return k._||(k._=function(){var t=l.createElement("div"),e=t.cloneNode(!1),n=!1,i=l.body||function(){return n=!0,d.appendChild(l.createElement("body"))}();t.style.cssText="position:fixed;top:42px",i.appendChild(t),i.appendChild(e);var o=t.offsetTop!==e.offsetTop;return i.removeChild(t),i.removeChild(e),n&&d.removeChild(i),t=e=null,o}())},$=function(){return{x:f.scrollLeft(),y:f.scrollTop()}},C=function(t){return{w:t.width(),h:t.height()}},E=function(){return C(c)},q=function(t){var e=T(t),n=e?o(t).offset():{left:t.pageX,top:t.pageY};t=e?t:t.target;var i=t.ownerDocument;if(i===u.document)return n;var r=i.defaultView||i.parentWindow,a=r.frameElement,s=$(),l=o(a).offset();return{left:n.left+l.left-s.x,top:n.top+l.top-s.y}},L=function(t,e){if(t.length){var n=j(t.css(e))||t[0]["offset"+e.charAt(0).toUpperCase()+e.slice(1)],i={width:["left","right"],height:["top","bottom"]};return _(i[e],function(e,i){n+=j(t.css("margin-"+e),10)||0}),n}return 0},z=function(t){return L(t,"width")},I=function(t){return L(t,"height")},D=function(){try{var t=l.activeElement,e=t.contentDocument;return e&&e.activeElement||t}catch(t){}},P=function(t){t=t||"";var e={auto:!0},n=t.slice(-1);"!"===n&&(e.auto=!1,t=t.slice(0,-1));for(var i,t=t.length<=2?t.split(""):t.replace(/^\s+|\s+$/g,"").split(" ").slice(0,2),o={},r={t:"t",b:"t",l:"l",r:"l"},a=-1,s=t.length;++a<s;)i=t[a].charAt(0),!i||o[r[i]]?t.splice(a,1):(t[a]=i,o[r[i]]=1);return 2===t.length&&t[0]===t[1]&&t.pop(),e.align=t,e};r.inherits(i,s,{open:!1,destroyed:!0,node:null,mask:null,emit:function(t){for(var e=(t||"").match(p)||[],n=e.length;n--;){var o=this["on"+e[n]],r=Array.prototype.slice.call(arguments,1);"function"==typeof o&&o.apply(this,r)}i.__super__.emit.apply(this,arguments)},$:function(t,e){var n=this._nodes||(this._nodes={}),i=n[t];return(!i||e&&0===i.length)&&(i=this._popup.find('[node-type="'+t+'"]'),e&&i.length>0&&(n[t]=i)),!e||i.length?i:null},show:function(t,e){var n,i=this,o=i._,r=t,s=null,u=i._anim;if(u&&u.stop(!0),i.destroyed||o.showing||i.open)return i;e=x({},i._,e),void 0!==r&&(n=typeof r,"boolean"===n?e.modal=r:r&&"object"===n&&(T(r)||T(r.target)?s=r:x(e,r)));var l=i._popup,c=e.showWithAni,f=function(){delete o.showing,i.emit("shown")};if(i._ready||(i.emit("render",e),i._ready=!0),i.open=!0,i.anchor=s,i._activeElement=D(),i.emit("beforeShow",e),l.appendTo(e.appendTo).css("display","block"),i.emit("show",e),o.showing=!0,c&&"none"!==c){var d=c.split(":");i._anim=a.effect(i.node,d[0],d[1],f)}else f();return i},hide:function(t){var e,n=this,i=n._,o=n.node,r=i.hideWithAni,s=n._anim;if(s&&s.stop(!0),n.destroyed||i.hidding||!n.open)return n;if(n.emit("beforeHide"),i.hidding=!0,e=function(){i.hidding===!0&&(o.parentNode.removeChild(o),n._popup.hide(),delete i.hidding,n.open=!1,n.emit("hidden"),(t||i.autoRelease)&&n.destroy())},r&&"none"!==r){var u=r.split(":");n._anim=a.effect(o,u[0],u[1],e),n.emit("hide")}else n.emit("hide"),A(e);return n},destroy:function(){var t=this;return t.destroyed?t:(t.emit("beforeremove"),i.current===t&&(i.current=null),t._popup.off().remove(),t._mask.off().remove(),t._shadow.off().remove(),t.emit("destroy"),t.removeAllListeners(),_(t,function(e,n){delete t[n]}),t._={},t.destroyed=!0,t)},resize:function(){var t=this._;if(this.open&&this._ready&&!t.showing&&!this._freezing){var e=this.anchor;e?this.alignTo(e):this.center(),this.emit("resize")}return this},_freeze:function(t){return this._freezing=!!t,this},focus:function(t){var e=this._,n=this.node,r=this._popup,a=i.current,s=e.zIndex;if(a&&a!==this&&a.blur(!1),!o.contains(n,D())){var u=r.find("[autofocus]")[0];!e.focusing&&u?e.focusing=!0:u=n,this._focus(u)}return void 0===s&&(s=e.zIndex=i.zIndex++,r.css("zIndex",s),r.addClass(v+"-focus")),i.current=this,this.emit("focus"),this},blur:function(){var t=this._,e=arguments[0],n=this._activeElement;
return n?(e!==!1&&this._focus(n),delete t.focusing,delete this._activeElement,this._popup.removeClass(v+"-focus"),this.emit("blur"),this):this},_focus:function(t){if(t&&this._.autofocus&&!/^iframe$/i.test(t.nodeName))try{t.focus()}catch(t){}},center:function(){var t=this._popup,e=this._.fixed,n=$(),i=E(),o=C(t),r=e?0:n.x,a=e?0:n.y,s=(i.w-o.w)/2+r,u=.382*(i.h-o.h)+a;return t.css({left:g(j(s),r),top:g(j(u),a)}),this},alignTo:function(t,e){var n=this,i=n._,r=n._popup,a=t.parentNode&&o(t);if(!a)return n;var s=a.offset();if(s.left*s.top<0)return n.center();e=e||i.align;var u=P(e),l=u.align,c=!u.auto;l&&l.length||(l=["b"]);var f=n._dirClass;f&&r.removeClass(f);var d=i.fixed,p=E(),h=$(),m=z(r),g=I(r),b=q(t),x=z(a),w=I(a),A=b.left,T=b.top,k=d?A-h.x:A,C=d?T-h.y:T,L=d?0:h.x,D=d?0:h.y,S=L+p.w-m,U=D+p.h-g,N={t:"b",b:"t",l:"r",r:"l"},O={t:"top",b:"top",l:"left",r:"left"},G={},R=[{t:C-g,b:C+w,l:k-m,r:k+x},{t:C,b:C-g+w,l:k,r:k-m+x}],M={l:k+y((x-m)/2),t:C+y((w-g)/2)},W={left:[L,S],top:[D,U]};c||_(l,function(t,e){R[e][t]>W[O[t]][1]&&(t=l[e]=N[t]),R[e][t]<W[O[t]][0]&&(l[e]=N[t])});var Q=l[0];l[1]||(l[1]="left"===O[Q]?"t":"l",R[1][l[1]]=M[l[1]]),R[0][Q]=R[0][Q]+10*("tl".indexOf(Q)!==-1?-1:1),G[O[l[0]]]=j(R[0][l[0]]),G[O[l[1]]]=j(R[1][l[1]]);var B=v+"-"+Q;r.css(G).addClass(B),n._dirClass=B;var F=n.$("arrow",1),H=n.$("inner",1);if(!F){if(!H)return n;F=o('<div node-type="arrow" class="ui-arrow"><i></i><b></b></div>').appendTo(H)}var V,Y,X="top"!==O[Q],J=["v","h"][1^X],Z=z(F),K=I(F),tt={},et=X?"left":"top";switch(J){case"h":V=y(A+(x-Z)/2),tt.left=V;break;case"v":Y=y(T+(w-K)/2),tt.top=Y}return F.offset(tt).css(et,""),n}}),i.zIndex=1024,i.current=null,n.exports=i}),define("lib/ui/box/1.0.1/dialog",["require","exports","module","jquery","../../../core/1.0.0/utils/util","../../../core/1.0.0/dom/delegator","./popup"],function(t,e,n){"use strict";var i=t("jquery"),o=t("../../../core/1.0.0/utils/util"),r=t("../../../core/1.0.0/dom/delegator"),a=t("./popup"),s=o.extend,u=o.guid,l=o.each,c=window.document,f={zIndex:1024,title:"",close:!0,clickBlankToHide:!1,content:'<span class="ui-box-loading">Loading..</span>',className:"",width:"",height:"",button:null,buttonClass:"ui-box-btn",buttonClassLight:"autofocus",html:'<div node-type="inner" class="ui-box"><a node-type="close" action-type="close" class="ui-box-iconf ui-box-close">x</a><div node-type="header" class="ui-box-hd"><div node-type="title" class="ui-box-title"></div></div><div node-type="body" class="ui-box-bd"><div node-type="content" class="ui-box-content"></div></div><div node-type="footer" class="ui-box-ft"><div node-type="button" class="ui-box-func"></div></div></div>'},d={},p=function(t){var e=t||(t={}),n=t.id||t.id||u(),o=p.get(n)||this;"string"!=typeof t&&1!==t.nodeType||(t={content:t}),t=s({},f,t),t.original=e;var r,a=t.button||(t.button=[]);if(i.isArray(r=a)||(r=[],a&&"object"==typeof a&&l(a,function(t,e){t.id=e,r.push(t)}),a=t.button=r),a.length>0){var c=!1;l(a,function(e,n){var i=e.id||u();e.autofocus&&(c=!0),t[i]&&s(e,t[i]),e.index=n}),c||(a[a.length-1].autofocus=!0)}return o.emit("init",t),o.initialized?o.options(t).focus():o.init(t),d[n]=o,o};o.inherits(p,a,{init:function(t){var e=this;a.call(e,t);var n=function(t){var n=t.actionValue===!1||t.isDefaultPrevented();n||e.hide()};e._delegator=new r(e.node,{context:e,onDelegate:n}),e.delegate("close",function(t){e.hide()}).once("render",function(){e.initComponents()}).on("destroy",function(){delete d[t.id],e._delegator.destroy()})},options:function(t){var e=this,t=s(e._,t);return e._freeze(!0),l(["title","content","width","height","action","button"],function(n,i){i=t[n],null!=i&&"function"==typeof e[n]&&e[n](i)}),e._freeze(!1).resize(),t.zIndex&&(a.zIndex=t.zIndex),e},initComponents:function(){var t=this,e=t._;t.$("header").hide(),t.$("footer").hide(),t.options(),e.close||t.$("close").css("display","none"),e.clickBlankToHide&&i(t.mask).on("onmousedown"in c?"mousedown":"click",function(){return t.hide(),!1});var n=function(e){var n=e.target,i=n.nodeName,o=/^input|textarea$/i,r=a.current===t,s=e.keyCode;!r||o.test(i)&&"button"!==n.type||27===s&&t.hide()};i(c).on("keydown",n),t.on("destroy",function(){i(c).off("keydown",n)})},delegate:function(t,e,n){var i=this._delegator;return i.on.apply(i,arguments),this},undelegate:function(t,e,n){var i=this._delegator;return i.un.apply(i,arguments),this},content:function(t){var e=this.$("content");return t&&t.nodeType?(i.contains(c,t)&&this.on("beforeremove",function(){i("body").append(t.hide())}),t=i(t),e.empty().append(t.show())):e.html(t),this.resize()},title:function(t){return this.$("title").html(t),this.$("header")[t?"show":"hide"](),this},width:function(t){return""!==t&&(this.$("content").css("width",t),this.resize()),this},height:function(t){return""!==t&&(this.$("content").css("height",t),this.resize()),this},button:function(t){t=t||[];var e=this,n=e._,i="",o=0,r=n.buttonClass;return"string"==typeof t?(i=t,o++):l(t,function(t,a){var s=t.id,u=t.fn||t.callback,l=t.display!==!1,c=t.className||r,f=[c];t.autofocus&&f.push(n.buttonClassLight),"function"==typeof u&&e.delegate(s,u),l&&o++,i+='<button type="button" action-type="'+s+'"'+(l?"":' style="display:none"')+(' class="'+f.join(" ")+'"')+(t.disabled?" disabled":"")+">"+(t.text||t.value)+"</button>"}),e.$("button").html(i),e.$("footer")[o?"show":"hide"](),e.resize(),e},action:function(t){var e=this;return l(t,function(t,n){e.delegate(n,t)}),e}}),p.getCurrent=function(){return a.current},p.get=function(t){return void 0===t?d:d[t]},p.config=function(t){t&&s(f,t)},n.exports=p}),define("lib/ui/box/1.0.1/messagebox",["require","exports","module","jquery","../../../core/1.0.0/utils/util","./drag","./dialog"],function(t,e,n){"use strict";var i=t("jquery"),o=t("../../../core/1.0.0/utils/util"),r=t("./drag"),a=t("./dialog"),s=o.each,u=o.extend,l=window.clearTimeout,c="//s1.zhongzhihui.com/lib/assets/images/loading/loading32x32.gif";!function(){var t=i('<i class="ui-box-iconf" style="position:absolute;left:-999em;top:-999em;">x<img src="'+c+'"</i>').appendTo("body");setTimeout(function(){t.remove(),t=null},50)}();var f={info:"&#x69;",warn:"&#x21;",confirm:"&#x3f;",ok:"&#x2714;",error:"&#x2718;",loading:'<img src="'+c+'" />'},d=function(t){var e=f[t];return e?'<i node-type="icon" class="x-icon ui-box-iconf">'+e+"</i>":""},p=o.guid("__x")+"$",h=function(t){return p+t},v=function(t,e){var n,i=e.xtype,o=i&&d(i)||e.iconHTML;return o&&(n=t?'<div node-type="text" class="x-text">'+t+"</div>":"",t=['<div class="ui-box-x-wrap">',o,n,"</div>"].join("")),t},m=function(t){var e=t.contentWindow;if(e)try{return e.document}catch(t){return 0}},g=function(t){var e;t.once("init",function(n){var i={};s(["title","width","height","button"],function(t){i[t]=n[t],delete n[t]}),t.once("load",function(){var n=t._;s(i,function(i,o){if(i)if("title"===o){if("auto"===i)try{i=e.contentWindow.document.title||""}catch(t){i=""}i&&t.title(i)}else"function"==typeof t[o]?t[o](i):n[o]=i})})}).once("render",function(){var n=t._;setTimeout(function(){e=y(t,n.url),t.iframeNode=e},30);var o=n.original;if(!(o instanceof Object))for(var r=function(){t.hide().destroy()},a=0;a<frames.length;a++)try{if(o instanceof frames[a].Object){i(frames[a]).one("unload",r);break}}catch(t){}}).once("beforeremove",function(){i(e).attr("src","about:blank").remove()},!1)},y=function(t,e){var n=t._,o=t.$("content"),r=o.find("iframe"),a=r&&r[0],s=function(e){t._freeze(!0),e&&(n.width||t.width(e.width),n.height||t.height(e.height)),t.emit("load"),t._freeze(!1).resize(),s=null,r.removeAttr("style"),r=a=null},u=function(e){n.showing?t.once("shown",e):e()};if(!r.length){var l=/(msie) ([\w.]+)/.test(navigator.userAgent.toLowerCase()),c='<iframe id="{id}-iframe" name="{id}-iframe" class="iframe" frameborder="0" hspace="0"'+(l?' allowtransparency="true"':"")+' scrolling="'+n.scrolling+'" style="position:absolute;left:-9999em;top:-9999em;" src="'+e+'"></iframe>';r=i(c.replace(/{id}/g,n.id)).appendTo(o),a=r[0],n.autoSize?r.one("load",function(){var t,e,n,o=m(a),l=o&&i(o);l&&(t=l.width(),r.width(t),e=l.height(),n={width:t,height:e}),u(function(){s(n)})}):u(function(){s()})}return a},b=function(t){var e=this;t=u({},t);var n=t.button||(t.button=[]);s(["cancel","ok"],function(e,i){var o=t[e];o&&"object"==typeof o&&(o.id=e,n.push(o),delete t[e])});var o=t.xtype;if(o)t.id=t.id||h(o),t.content=v(t.content,t),"none"!==o&&(t.className=(t.className||"")+" ui-box-x-"+o);else{var l=t.url;if(l){var c=t.close!==!1;t=u({modal:!0,close:!1,autoRelease:!0,autoSize:!0,scrolling:"auto"},t);var f=i(v("Loading...",{xtype:"loading"})).addClass("ui-box-x-loading");t.content=f,t.className=(t.className||"")+" ui-box-iframe",e.once("load",function(){f.remove(),f=null,c&&e.$("close").show()}),e.on("hidden",function(){e.destroy()}),g(e)}}return e=a.call(e,t)||e,e._ready||e.once("render",function(){var n=e.$("title");if(n.length&&t.drag!==!1){n.css("cursor","move");r.create(e.node,null,{hook:n,onstart:function(){e.anchor||e.focus()}})}}),e},x="__showDelay",_="__hideTimer";o.inherits(b,a,{show:function(t,e){var n=this,i=n._,r=[].slice.call(arguments),e=u({},i,e),a=e.duration||0,s=e.delay||0,c=function(){o.each([x,_],function(t,e){e=i[t],delete i[t],e&&l(e)})},f=function(){a>0&&(i[_]=setTimeout(function(){c(),n.hide()},a),n.once("hide",c)),b.__super__.show.apply(n,r)};return c(),s>0?i[x]=setTimeout(f,s):f(),n},hide:function(){var t=this,e=t._;return e&&o.each([x,_],function(t,n){n=e[t],delete e[t],n&&l(n)}),b.__super__.hide.apply(t,arguments),t}}),b.config=a.config,b.get=function(t){if(t){var e,n,i=a.get();if(t&&(e=t.frameElement))for(var o in i)if(i.hasOwnProperty(o)&&(n=i[o],n.iframeNode===e))return n;return i[t]}},n.exports=b}),define("lib/ui/box/1.0.1/box",["require","exports","module","./messagebox","../../../core/1.0.0/utils/util"],function(t,e,n){"use strict";var i=t("./messagebox"),o=t("../../../core/1.0.0/utils/util"),r=function(){},a=o.mix,s=function(t,e){var n=function(t,e){return void 0!==e&&null!==e&&""!==e&&!("number"==typeof e&&isNaN(e))};return function(t,e){return a(t,e,!0,!0,n)}}(),u=function(t){return!!(t&&t.nodeType&&t.tagName)},l=o.guid,c=function(){return l("__0x$")},f=function(t){var e,n=t[1]||{};e=t[0],e&&("string"==typeof e?n.html=e:"object"==typeof e&&(n=e));var i=n.skin;return i&&(n.className=i,delete n.skin),n},d=function(t,e){var e=f([t,e]);return new i(e)},p=function(t,e,n){"object"==typeof t?(n=e,e=t,t=""):u(e)?(n=e,e={}):"number"==typeof e&&(e={duration:e}),e=e||{};var i=d(s({id:c(),content:t,className:"ui-bubble",autofocus:!1,autoRelease:!0,close:!1,xtype:"none",align:"top",duration:2e3,hideWithAni:"fadeOut",showWithAni:"fadeInUp"},e));return e.hide?i:i.show(n)},h={create:d,loadUrl:function(t,e){e=e||{},e.url=t;var n=d(e);return n.show()},loading:function(t,e){e=e||{};var n=d(s({autofocus:!0,autoRelease:!0,id:c(),modal:!0,close:!1,xtype:"loading",content:t||""},e));return e.hide?n:n.show()},alert:function(t,e){return"function"==typeof e&&(e={ok:{fn:e}}),e=s({title:"提示",xtype:"info",className:"ui-box-alert",autofocus:!0,id:c(),modal:!0,autoRelease:!0,content:"<div>"+t+"</div>",ok:{text:"确定",fn:function(){}}},e),d(e).show()},confirm:function(t,e,n,i){var o;!i&&n&&"object"==typeof n&&(u(n)?i=n:o=n,n=e),"function"!=typeof e&&(o=e,e=r),"function"!=typeof n&&(n=e);var a=function(t){t?e(t):n(t)};o&&(i=i||o.sender);var l=d(s({xtype:"confirm",autofocus:!0,id:c(),modal:!i,autoRelease:!0,content:"<div>"+t+"</div>",close:!1,ok:{text:"确定",fn:function(){a(!0)}},cancel:{text:"取消",fn:function(){a(!1)}}},o));return l.show(i)},bubble:p};h.tips=h.bubble,o.each(["ok","info","warn","error"],function(t,e){h[t]=function(e,n,i){var o={xtype:t};return n&&n.nodeType?(i=n,n=void 0):"number"==typeof n?o.duration=n:o=s(o,n),p(e,o,i)}}),h.get=i.get,h.config=i.config,n.exports=h}),define("lib/core/1.0.0/io/request",["require","exports","module","jquery","../utils/util","../event/emitter"],function(t,e,n){"use strict";var i=t("jquery"),o=t("../utils/util"),r=t("../event/emitter"),a=o.setImmediate,s=o.noop,u=o.extend,l=i.trim,c=i.parseJSON,f=function(t,e,n){return function(i,o){try{return t.apply(e,arguments)}catch(t){n&&n(t,i,o)}}},d=function(t){return e.emit.apply(e,arguments)};r.applyTo(e);var p=function(){var t=5,e=0,n=[],o=function(){a(function(){--e,r()})},r=function(){if(n.length>0&&e<t){var r=n.shift(),a=r[0],s=r[1];++e,a.always(o),i.ajax(s)}};return function(t,e){n.push([t,e]),r()}}(),h=function(t){r.applyTo(this);var e={url:"",type:"GET",data:{},dataType:"json",timeout:3e4,cache:!1};t=u(e,t),delete t.error,delete t.success,this._opts=t};u(h.prototype,{send:function(){var t=this,e=this._opts,n=u({},e),i="jsonp"===n.dataType;return i&&(n.crossDomain=!0),n.complete=function(n,o){var r,a=+n.status,s=n.responseJSON,u={error:"1",msg:"Request error (status: "+(o||a)+")"},f=200===a||"success"===o;if(!i&&!s&&(s=l(n.responseText),s&&"<"!==s.charAt(0)))try{s=c(s)}catch(t){}f||(s=s||u),r={data:s,xhr:n,origin:e,status:a||o},f?t.emit("response",null,r):t.emit("error",s,r),t.emit("end",r),t.destroy()},p(t,n),t},always:function(t){return"function"==typeof t&&this.on("end",t),this},destroy:function(){this.un(),this._opts=null}}),e.on("request",function(t,e){if(e=e&&i(e)){var n="disabled";e.addClass(n).prop("disabled",!0),t.once("end",function(){e.removeClass(n).prop("disabled",!1),e=null})}}),e.ajax=function(t,e,n){"object"==typeof t&&(n=e,e=t,t=void 0),e=e||{},t&&(e.url=t);var o=new h(e),r=function(t,n){var i=t.stack&&t.stack.split("\n").slice(0,2).join("\n")||t,o={stack:i,origin:e,response:n};d("error",o,n),a(function(){console.log("%c "+i,"color:#ae0000")},1)},u=f(e.error||s,null,r),l=f(e.success||s,null,r);if(d("request",o,n)!==!1){if(n&&(n=i(n))){var c,p,v="data-async-lock";if(1===+n.attr(v))return;(p=n.attr("data-async-text"))&&(c=n.html(),n.html(p)),n.attr(v,1),o.once("response error",function(){n&&(n.attr(v,0),p&&n.html(c),n=null)})}return o.on("error",function(t,e){var n={code:t.error,message:t.msg,status:e.status,origin:e.origin,response:e.data};d("error",n,e)!==!1&&u(t)}),o.on("response",function(t,e){if(e=e.data,d("response",e)!==!1)return t?void u(t):void(e&&0===+(e.error||0)?l(e):u(e))}),o.send()}},i.each(["get","post","jsonp"],function(t,n){e[n]=function(t,i,o,r,a){"function"==typeof i&&(a=a||r,r=o,o=i,i=void 0),r&&"function"!=typeof r&&(a=r,r=void 0);var s={data:i,success:o,error:r||o};"string"==typeof t?s.url=t:u(s,t);var l=n;return"jsonp"===n&&(l="get",s.dataType="jsonp"),s.type=l,e.ajax(s,a)}})}),define("lib/ui/tab/1.0.0/tab",["require","exports","module","jquery","lib/core/1.0.0/event/emitter","lib/core/1.0.0/utils/util","lib/core/1.0.0/dom/build"],function(t,e,n){"use strict";function i(t,e){var n=this,i={event:"click"};n.el=o(t),n.options=o.extend(!0,{},i,e);var r=s.build(t,!1);n.hd=r.get("hd"),n.bd=r.get("bd"),n.hdItems=r.get("hdItem"),n.containers=r.get("container"),n._initEvent(),n._init()}var o=t("jquery"),r=t("lib/core/1.0.0/event/emitter"),a=t("lib/core/1.0.0/utils/util"),s=t("lib/core/1.0.0/dom/build");a.inherits(i,r),i.prototype._initEvent=function(){var t=this;t.hdItems.on(t.options.event,function(e){e.preventDefault();var n=o(this);n.hasClass("current")||t.setCurrent(n.attr("data-target"))})},i.prototype._init=function(){},i.prototype.setCurrent=function(t){var e=this;if(void 0===t){var n=e.hd.find(".current");0==n.length&&(n=this.hdItems.eq(0)),t=n.attr("data-target")}e.hdItems.removeClass("current");var i=e.hd.find("[data-target="+t+"]");i.addClass("current"),e.containers.removeClass("current");var o=e.bd.find("[data-id="+t+"]");o.addClass("current"),e.emit("change",{hd:i,body:o})},n.exports=i}),!function(){function t(t){return t.replace(b,"").replace(x,",").replace(_,"").replace(w,"").replace(A,"").split(j)}function e(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,i){function o(t){return d+=t.split(/\n/).length-1,c&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=y[1]+e(t)+y[2]+"\n"),t}function r(e){var n=d;if(l?e=l(e,i):a&&(e=e.replace(/\n/g,function(){return d++,"$line="+d+";"})),0===e.indexOf("=")){var o=f&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),o){var r=e.replace(/\s*\([^\)]+\)/,"");p[r]||/^(include|print)$/.test(r)||(e="$escape("+e+")")}else e="$string("+e+")";e=y[1]+e+y[2]}return a&&(e="$line="+n+";"+e),g(t(e),function(t){if(t&&!v[t]){var e;e="print"===t?x:"include"===t?_:p[t]?"$utils."+t:h[t]?"$helpers."+t:"$data."+t,w+=t+"="+e+",",v[t]=!0}}),e+"\n"}var a=i.debug,s=i.openTag,u=i.closeTag,l=i.parser,c=i.compress,f=i.escape,d=1,v={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},m="".trim,y=m?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=m?"$out+=text;return $out;":"$out.push(text);",x="function(){var text=''.concat.apply('',arguments);"+b+"}",_="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(a?"$line=0,":""),A=y[0],j="return new String("+y[3]+");";g(n.split(s),function(t){t=t.split(u);var e=t[0],n=t[1];1===t.length?A+=o(e):(A+=r(e),n&&(A+=o(n)))});var T=w+A+j;a&&(T="try{"+T+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var k=new Function("$data","$filename",T);return k.prototype=p,k}catch(t){throw t.temp="function anonymous($data,$filename) {"+T+"}",t}}var i=function(t,e){return"string"==typeof e?m(e,{filename:t}):a(t,e)};i.version="3.0.0",i.config=function(t,e){o[t]=e};var o=i.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},r=i.cache={};i.render=function(t,e){return m(t,e)};var a=i.renderFile=function(t,e){var n=i.get(t)||v({filename:t,name:"Render Error",message:"Template not found"});return e?n(e):n};i.get=function(t){var e;if(r[t])e=r[t];else if("object"==typeof document){var n=document.getElementById(t);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");e=m(i,{filename:t})}}return e};var s=function(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?s(t.call(t)):""),t},u={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},l=function(t){return u[t]},c=function(t){return s(t).replace(/&(?![\w#]+;)|[<>"']/g,l)},f=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},d=function(t,e){var n,i;if(f(t))for(n=0,i=t.length;i>n;n++)e.call(t,t[n],n,t);else for(n in t)e.call(t,t[n],n)},p=i.utils={$helpers:{},$include:a,$string:s,$escape:c,$each:d};i.helper=function(t,e){h[t]=e};var h=i.helpers=p.$helpers;i.onerror=function(t){var e="Template Error\n\n";for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";"object"==typeof console&&console.error(e)};var v=function(t){return i.onerror(t),function(){return"{Template Error}"}},m=i.compile=function(t,e){function i(n){try{return new u(n,s)+""}catch(i){return e.debug?v(i)():(e.debug=!0,m(t,e)(n))}}e=e||{};for(var a in o)void 0===e[a]&&(e[a]=o[a]);var s=e.filename;try{var u=n(t,e)}catch(t){return t.filename=s||"anonymous",t.name="Syntax Error",v(t)}return i.prototype=u.prototype,i.toString=function(){return u.toString()},s&&e.cache&&(r[s]=i),i},g=p.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,x=/[^\w$]+/g,_=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,A=/^,+|,+$/g,j=/^$|,+/;o.openTag="{{",o.closeTag="}}";var T=function(t,e){var n=e.split(":"),i=n.shift(),o=n.join(":")||"";return o&&(o=", "+o),"$helpers."+i+"("+t+o+")"};o.parser=function(t){t=t.replace(/^\s/,"");var e=t.split(" "),n=e.shift(),o=e.join(" ");switch(n){case"if":t="if("+o+"){";break;case"else":e="if"===e.shift()?" if("+e.join(" ")+")":"",t="}else"+e+"{";break;case"/if":t="}";break;case"each":var r=e[0]||"$data",a=e[1]||"as",s=e[2]||"$value",u=e[3]||"$index",l=s+","+u;"as"!==a&&(r="[]"),t="$each("+r+",function("+l+"){";break;case"/each":t="});";break;case"echo":t="print("+o+");";break;case"print":case"include":t=n+"("+e.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(o)){var c=!0;0===t.indexOf("#")&&(t=t.substr(1),c=!1);for(var f=0,d=t.split("|"),p=d.length,h=d[f++];p>f;f++)h=T(h,d[f]);t=(c?"=":"=#")+h}else t=i.helpers[n]?"=#"+n+"("+e.join(",")+");":"="+t}return t},"function"==typeof define?define("template",[],function(){return i}):"undefined"!=typeof exports?module.exports=i:this.template=i}(),define("plugins/polling-list/1.0.0/polling",["require","exports","module","jquery","lib/core/1.0.0/io/request","lib/core/1.0.0/event/emitter","lib/core/1.0.0/utils/util"],function(t,e,n){"use strict";function i(t,e){var n=this,i={ajax:{type:"get",data:null},time:1e3};n.options=o.extend(!0,{},i,e),n.options.ajax.url=t,n._isLoading=!1}var o=t("jquery"),r=t("lib/core/1.0.0/io/request"),a=t("lib/core/1.0.0/event/emitter"),s=t("lib/core/1.0.0/utils/util");s.inherits(i,a),i.prototype.start=function(){var t=this,e=t.options,n=t.options.ajax;t._isLoading=!1,t._interval||(t._interval=setInterval(function(){t._isLoading||(t._isLoading=!0,r[n.type](n.url,n.data,function(e){t._isLoading=!1,t.emit("success",e)},function(e){t._isLoading=!1,t.emit("error",e)}))},e.time))},i.prototype.stop=function(){var t=this;t.options,t.options.ajax;t._isLoading=!0},i.prototype.setData=function(t){var e=this;e.options.ajax.data=o.extend({},e.options.ajax.data,t)},n.exports=i}),define("plugins/polling-list/1.0.0/polling-list",["require","exports","module","jquery","lib/core/1.0.0/io/request","lib/core/1.0.0/event/emitter","lib/core/1.0.0/utils/util","./polling"],function(t,e,n){"use strict";function i(t,e){var n=this;if(n.el=o(t),0==n.el.length)throw new Error("the param [el] is required.");n.container=o('<div node-type="container"></div>'),n.el.append(n.container);var i={ajax:{url:null,type:"get",data:null}};n.options=o.extend(!0,{},i,e),n._init(),n._initEvent()}var o=t("jquery"),r=(t("lib/core/1.0.0/io/request"),t("lib/core/1.0.0/event/emitter")),a=t("lib/core/1.0.0/utils/util"),s=t("./polling");a.inherits(i,r),i.prototype._init=function(){var t=this;t.polling=new s(t.options.ajax.url,{ajax:t.options.ajax})},i.prototype._initEvent=function(){var t=this;t.polling.on("error",function(e){t.emit("error",e,t.container)}),t.polling.on("success",function(e){t.emit("success",e,t.container)}),t.el.on("scroll",function(e){t.el.scrollTop()+t.el.height()>=t.container.height()&&t.emit("pullup")})},s.prototype.setData=function(t){var e=this;e.polling.setData(t)},i.prototype.destroy=function(){},i.prototype.html=function(t){var e=this;e.container.html(t)},i.prototype.prepend=function(t){var e=this;e.container.prepend(t)},i.prototype.append=function(t){var e=this;e.container.append(t)},i.prototype.start=function(){var t=this;t.polling.start()},i.prototype.stop=function(){var t=this;t.polling.stop()},i.prototype.clear=function(){var t=this;t.container.html("")},i.prototype.scrollTo=function(t){var e=this;e.el.stop().animate({scrollTop:t||0})},n.exports=i}),define("module/monitor/1.0.0/question",["require","exports","module","jquery","./../../../plugins/polling-list/1.0.0/polling-list","lib/core/1.0.0/io/request","lib/core/1.0.0/event/emitter","lib/core/1.0.0/utils/util","template"],function(t,e,n){"use strict";function i(t,e){var n=this;if(n.el=o(t),0==n.el.length)throw new Error("the param [el] is required.");var i={pollingAjax:{url:null,type:"get",data:null},pagerAjax:{url:null,type:"get",data:null}};n.options=o.extend(!0,{},i,e),n._isPulling=!1,n._init(),n._initEvent(),n.max=0}var o=t("jquery"),r=t("./../../../plugins/polling-list/1.0.0/polling-list"),a=t("lib/core/1.0.0/io/request"),s=t("lib/core/1.0.0/event/emitter"),u=t("lib/core/1.0.0/utils/util"),l=t("template");u.inherits(i,s),i.prototype._init=function(){var t=this;t.pollingList=new r(t.el,{ajax:t.options.pollingAjax,data:{max:t.max}})},i.prototype._initEvent=function(){var t=this,e=(t.options,t.options.pagerAjax);t.pollingList.on("error",function(t){}),t.pollingList.on("success",function(e){e&&e.data&&e.data.resultList&&e.data.resultList.length>0&&t.pollingList.html(t.template(e.data)),t.scrollTo(0)}),t.el.on("mouseenter",function(){t.stop()}),t.el.on("mouseleave",function(){t.start()}),t.pollingList.on("pullup",function(n){t._isPulling||(t._isPulling=!0,a[e.type](e.url,e.data,function(e){t._isPulling=!1,t.pollingList.append(t.template(e.data))},function(e){t._isPulling=!1}))})},i.prototype.start=function(){var t=this;t.pollingList.start()},i.prototype.stop=function(){var t=this;t.pollingList.stop()},i.prototype.clear=function(){var t=this;t.pollingList.container.html("")},i.prototype.destroy=function(){},i.prototype.scrollTo=function(t){var e=this;e.pollingList.scrollTo(t)},i.prototype.template=function(t){return l("tQuestion",t)},n.exports=i}),define("module/monitor/1.0.0/note",["require","exports","module","jquery","./../../../plugins/polling-list/1.0.0/polling-list","lib/core/1.0.0/io/request","lib/core/1.0.0/event/emitter","lib/core/1.0.0/utils/util","template"],function(t,e,n){"use strict";function i(t,e){var n=this;if(n.el=o(t),0==n.el.length)throw new Error("the param [el] is required.");var i={pollingAjax:{url:null,type:"get",data:null},pagerAjax:{url:null,type:"get",data:null}};n.options=o.extend(!0,{},i,e),n._isPulling=!1,n._init(),n._initEvent(),n.max=0}var o=t("jquery"),r=t("./../../../plugins/polling-list/1.0.0/polling-list"),a=t("lib/core/1.0.0/io/request"),s=t("lib/core/1.0.0/event/emitter"),u=t("lib/core/1.0.0/utils/util"),l=t("template");u.inherits(i,s),i.prototype._init=function(){var t=this;t.pollingList=new r(t.el,{ajax:t.options.pollingAjax,data:{max:t.max}})},i.prototype._initEvent=function(){var t=this,e=(t.options,t.options.pagerAjax);t.pollingList.on("error",function(t){}),t.pollingList.on("success",function(e){e&&e.data&&e.data.resultList&&e.data.resultList.length>0&&t.pollingList.html(t.template(e.data)),t.scrollTo(0)}),t.el.on("mouseenter",function(){t.stop()}),t.el.on("mouseleave",function(){t.start()}),t.pollingList.on("pullup",function(n){t._isPulling||(t._isPulling=!0,a[e.type](e.url,e.data,function(e){t._isPulling=!1,t.pollingList.append(t.template(e.data))},function(e){t._isPulling=!1}))})},i.prototype.start=function(){var t=this;t.pollingList.start()},i.prototype.stop=function(){var t=this;t.pollingList.stop()},i.prototype.clear=function(){var t=this;t.pollingList.container.html("")},i.prototype.destroy=function(){},i.prototype.scrollTo=function(t){var e=this;e.pollingList.scrollTo(t)},i.prototype.template=function(t){return l("tAnswer",t)},n.exports=i}),define("conf/play",["require","exports","module","jquery","module/top-search/1.0.0/top-search","module/login-status/1.0.0/login-status","module/fix-bar/1.0.0/fix-bar","module/footer/1.0.0/footer","lib/ui/box/1.0.1/box","lib/plugins/lazyload/1.9.3/lazyload","lib/core/1.0.0/io/request","lib/ui/tab/1.0.0/tab","template","module/monitor/1.0.0/question","module/monitor/1.0.0/note"],function(t,e,n){"use strict";function i(t,e,n,i,o){t>e?(n.addClass("text-error"),i.addClass("publish-error"),o.css({color:"red"})):(n.removeClass("text-error"),i.removeClass("publish-error"),o.css({color:"#666"})),o.children(".num").text(t)}function o(t,e,n,i,o){""==t?m.error("请输入发表内容"):e.hasClass("publish-error")||y.get(n,i,function(t){t?0==t.code?(m.ok("发表成功"),o.val("")):m.error(t.msg||"发表失败"):m.error("发表失败，请重试")},function(t){m.error(t.msg||"网络错误,请重试")})}function r(t,e,n){y.get(t,e,function(t){t?0==t.code?m.ok(n+"成功"):m.error(t.msg||n+"失败"):m.error(n+"失败，请重试")},function(t){m.error(t.msg||"网络错误,请重试")})}function a(t,e,n,i){var o=m.loading("正在加载...",{modal:!1});y.get(t,e,function(t){if(!f.isEmptyObject(t.data)&&t.data&&t.data.resultList&&t.data.resultList.length>0){var e=x(n,t.data);document.getElementById(i).innerHTML=e,u=new g(f("#"+i).find(".jImg"),{mouseWheel:!0,effect:"fadeIn",snap:!0})}else{var e=x("tEmpty",1);document.getElementById(i).innerHTML=e}o&&o.hide()},function(t){document.getElementById(i).innerHTML="<div style='color: #000;'>请求超时请重试！<a href=''>刷新</a></div>",o&&o.hide()})}function s(t){switch(t){case"0":$.show(),C.hide(),T.hide(),k.hide(),l.stop(),c.stop(),a($PAGE_DATA.baseStaticUrl+"source/api/course/details.json",t,"tAnswer","jNoteTab1");break;case"1":$.hide(),C.show(),T.hide(),k.hide(),l.stop(),c.start();break;case"2":$.hide(),C.hide(),T.show(),k.hide(),c.stop(),l.stop(),a($PAGE_DATA.baseStaticUrl+"source/api/course/details.json",t,"tQuestion","jQuestionTab1");break;case"3":$.hide(),C.hide(),T.hide(),k.show(),l.start(),c.stop()}}var u,l,c,f=t("jquery"),d=t("module/top-search/1.0.0/top-search"),p=t("module/login-status/1.0.0/login-status"),h=t("module/fix-bar/1.0.0/fix-bar"),v=t("module/footer/1.0.0/footer"),m=(new d,new p,new h,new v,t("lib/ui/box/1.0.1/box")),g=t("lib/plugins/lazyload/1.9.3/lazyload"),y=t("lib/core/1.0.0/io/request"),b=t("lib/ui/tab/1.0.0/tab"),x=t("template"),_=t("module/monitor/1.0.0/question"),w=t("module/monitor/1.0.0/note"),c=(f(".jMod-catlog"),f(".jMod-note")),A=f("#jTab"),j=new b(A),T=f("#jQuestionTab1"),k=f("#jQuestionTab2"),$=f("#jNoteTab1"),C=f("#jNoteTab2");u=new g(f(".jImg"),{mouseWheel:!0,effect:"fadeIn",snap:!0}),l=new _("#jQuestionTab2",{pollingAjax:{url:$PAGE_DATA.baseStaticUrl+"source/api/course/details.json"},pagerAjax:{url:$PAGE_DATA.baseStaticUrl+"source/api/course/details.json"}}),c=new w("#jNoteTab2",{pollingAjax:{url:$PAGE_DATA.baseStaticUrl+"source/api/course/details.json"},pagerAjax:{url:$PAGE_DATA.baseStaticUrl+"source/api/course/details.json"}});var E=f(".jPublishA"),q=f(".jPublishQ"),L=f(".jTxtNumA"),z=f(".jTxtNumQ"),I=f(".jTxtA"),D=f(".jTxtQ");A.on("keyup",".jTxtA",function(){var t=f(this).val().length;i(t,500,f(this),E,L)}),A.on("keyup",".jTxtQ",function(){var t=f(this).val().length;i(t,500,f(this),q,z)});var P,S=f("#jAnswer"),U=f("#jQues");A.on("click",".jPublishA",function(){var t=I.val();P=S.is(":checked")?1:2,o(t,f(this),$PAGE_DATA.commentPostUrl,{content:t,showType:P},I)}),A.on("click",".jPublishQ",function(){var t=D.val();P=U.is(":checked")?1:2,o(t,f(this),$PAGE_DATA.commentPostUrl,{content:t,showType:P},D)}),A.on("focus",".jTxt",function(){f(this).addClass("text-focus").attr("placeholder",""),f(this).css("color","#333")}).on("blur",".jTxt",function(){""===f(this).val()&&(f(this).removeClass("text-focus").attr("placeholder","有疑问?快来记录吧~(限500字)!"),f(this).css("color","#ccc"))}),A.on("click",".like",function(){var t,e=f(this).attr("data-dataType"),n=f(this).attr("data-type"),i=f(this).attr("data-value");f(this).hasClass("activeLike")?(t={dataType:e,type:n,id:i},r($PAGE_DATA.commentClickUrl,t,"取消点赞"),f(this).removeClass("activeLike")):(t={dataType:e,type:n,id:i},r($PAGE_DATA.commentClickUrl,t,"点赞"),f(this).addClass("activeLike"))}),A.on("click",".pick",function(){var t=f(this).attr("data-id");f(this).hasClass("picked")?(r($PAGE_DATA.baseStaticUrl+"source/api/course/details.json",t,"取消采集"),f(this).find("em").text("采集"),f(this).removeClass("picked")):(r($PAGE_DATA.baseStaticUrl+"source/api/course/details.json",t,"采集"),f(this).find("em").text("已采集"),f(this).addClass("picked"))}),A.on("click",".jSubNav",function(){f(this).addClass("ui-current").siblings().removeClass("ui-current");var t=f(this).attr("data-type");s(t)}),a($PAGE_DATA.baseStaticUrl+"source/api/course/details.json",1,"tDir","jDir"),j.on("change",function(t){var e=t.body.find(".ui-current").attr("data-type");s(e);var n=t.body.attr("data-id");"1"==n&&a($PAGE_DATA.baseStaticUrl+"source/api/course/details.json",n,"tDir","jDir"),u.update()})});